import{h as Pe,i as Zt,j as Qt,k as en,l as tn,m as nn,q as p,r as n,s as ke,u as mt,t as ot,v as je,x as Mt,y as $e,a as R,o as a,z as G,w as C,A as K,d as b,b as t,B as I,n as He,C as xe,c as d,D as te,F as W,G as D,H as Fe,I as on,J as ie,K as j,T as an,L as sn,M as Rt,N as It,O as Ot,P as vt,Q as ln,R as rn,S as _t,U as gt,V as Q,_ as ee,p as ye,e as Ee,W as A,X as V,Y as _e,Z as pe,$ as ft,f as cn,a0 as un,a1 as dn,E as pn,g as mn}from"./el-tag-2a796b49.js";import{o as ht,E as At,a as Vt,b as vn,T as _n,i as gn,u as fn,c as bt,d as hn,e as bn,f as yn,x as En,g as ze,h as _,M as Cn,V as yt,j as wn,k as Ge,Q as Ln,l as xn,r as Qe,F as Xe,m as Et,n as Ct,p as wt,q as Pt,C as at,B as Lt,S as xt,H as kt,s as kn,t as $n,L as Tn,v as Dn,w as Sn,y as Mn,z as Rn,A as In,D as On,G as An,I as Vn,J as Pn,K as Bn,N as Un,O as Nn,P as Fn,R as Gn,U as Hn,W as zn,X as Kn,Y as jn,Z as Wn,_ as qn,$ as Jn,a0 as Xn,a1 as Yn,a2 as Zn,a3 as Qn,a4 as eo,a5 as to,a6 as no,a7 as Bt,a8 as st,a9 as oo}from"./localforage-bf96fc6c.js";const lt="_trap-focus-children",Me=[],$t=e=>{if(Me.length===0)return;const o=Me[Me.length-1][lt];if(o.length>0&&e.code===Zt.tab){if(o.length===1){e.preventDefault(),document.activeElement!==o[0]&&o[0].focus();return}const c=e.shiftKey,u=e.target===o[0],m=e.target===o[o.length-1];u&&c&&(e.preventDefault(),o[o.length-1].focus()),m&&!c&&(e.preventDefault(),o[0].focus())}},ao={beforeMount(e){e[lt]=ht(e),Me.push(e),Me.length<=1&&document.addEventListener("keydown",$t)},updated(e){Pe(()=>{e[lt]=ht(e)})},unmounted(){Me.shift(),Me.length===0&&document.removeEventListener("keydown",$t)}},so=en({name:"ElMessageBox",directives:{TrapFocus:ao},components:{ElButton:At,ElFocusTrap:tn,ElInput:Vt,ElOverlay:vn,ElIcon:nn,..._n},inheritAttrs:!1,props:{buttonSize:{type:String,validator:gn},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:o}){const{locale:c,zIndex:u,ns:m,size:g}=fn("message-box",p(()=>e.buttonSize)),{t:h}=c,{nextZIndex:y}=u,l=n(!1),s=ke({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:y()}),r=p(()=>{const $=s.type;return{[m.bm("icon",$)]:$&&bt[$]}}),i=mt(),v=mt(),f=p(()=>s.icon||bt[s.type]||""),w=p(()=>!!s.message),E=n(),k=n(),L=n(),O=n(),T=n(),q=p(()=>s.confirmButtonClass);ot(()=>s.inputValue,async $=>{await Pe(),e.boxType==="prompt"&&$!==null&&P()},{immediate:!0}),ot(()=>l.value,$=>{var N,oe;$&&(e.boxType!=="prompt"&&(s.autofocus?L.value=(oe=(N=T.value)==null?void 0:N.$el)!=null?oe:E.value:L.value=E.value),s.zIndex=y()),e.boxType==="prompt"&&($?Pe().then(()=>{var ce;O.value&&O.value.$el&&(s.autofocus?L.value=(ce=se())!=null?ce:E.value:L.value=E.value)}):(s.editorErrorMessage="",s.validateError=!1))});const H=p(()=>e.draggable);hn(E,k,H),je(async()=>{await Pe(),e.closeOnHashChange&&window.addEventListener("hashchange",M)}),Mt(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",M)});function M(){l.value&&(l.value=!1,Pe(()=>{s.action&&o("action",s.action)}))}const X=()=>{e.closeOnClickModal&&le(s.distinguishCancelAndClose?"close":"cancel")},ne=yn(X),ge=$=>{if(s.inputType!=="textarea")return $.preventDefault(),le("confirm")},le=$=>{var N;e.boxType==="prompt"&&$==="confirm"&&!P()||(s.action=$,s.beforeClose?(N=s.beforeClose)==null||N.call(s,$,s,M):M())},P=()=>{if(e.boxType==="prompt"){const $=s.inputPattern;if($&&!$.test(s.inputValue||""))return s.editorErrorMessage=s.inputErrorMessage||h("el.messagebox.error"),s.validateError=!0,!1;const N=s.inputValidator;if(typeof N=="function"){const oe=N(s.inputValue);if(oe===!1)return s.editorErrorMessage=s.inputErrorMessage||h("el.messagebox.error"),s.validateError=!0,!1;if(typeof oe=="string")return s.editorErrorMessage=oe,s.validateError=!0,!1}}return s.editorErrorMessage="",s.validateError=!1,!0},se=()=>{const $=O.value.$refs;return $.input||$.textarea},Y=()=>{le("close")},S=()=>{e.closeOnPressEscape&&Y()};return e.lockScroll&&bn(l),{...$e(s),ns:m,overlayEvent:ne,visible:l,hasMessage:w,typeClass:r,contentId:i,inputId:v,btnSize:g,iconComponent:f,confirmButtonClasses:q,rootRef:E,focusStartRef:L,headerRef:k,inputRef:O,confirmRef:T,doClose:M,handleClose:Y,onCloseRequested:S,handleWrapperClick:X,handleInputEnter:ge,handleAction:le,t:h}}}),lo=["aria-label","aria-describedby"],io=["aria-label"],ro=["id"];function co(e,o,c,u,m,g){const h=R("el-icon"),y=R("close"),l=R("el-input"),s=R("el-button"),r=R("el-focus-trap"),i=R("el-overlay");return a(),G(an,{name:"fade-in-linear",onAfterLeave:o[11]||(o[11]=v=>e.$emit("vanish")),persisted:""},{default:C(()=>[K(b(i,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:C(()=>[t("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:I(`${e.ns.namespace.value}-overlay-message-box`),onClick:o[8]||(o[8]=(...v)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...v)),onMousedown:o[9]||(o[9]=(...v)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...v)),onMouseup:o[10]||(o[10]=(...v)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...v))},[b(r,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:C(()=>[t("div",{ref:"rootRef",class:I([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:He(e.customStyle),tabindex:"-1",onClick:o[7]||(o[7]=xe(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(a(),d("div",{key:0,ref:"headerRef",class:I(e.ns.e("header"))},[t("div",{class:I(e.ns.e("title"))},[e.iconComponent&&e.center?(a(),G(h,{key:0,class:I([e.ns.e("status"),e.typeClass])},{default:C(()=>[(a(),G(te(e.iconComponent)))]),_:1},8,["class"])):W("v-if",!0),t("span",null,D(e.title),1)],2),e.showClose?(a(),d("button",{key:0,type:"button",class:I(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:o[0]||(o[0]=v=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:o[1]||(o[1]=Fe(xe(v=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[b(h,{class:I(e.ns.e("close"))},{default:C(()=>[b(y)]),_:1},8,["class"])],42,io)):W("v-if",!0)],2)):W("v-if",!0),t("div",{id:e.contentId,class:I(e.ns.e("content"))},[t("div",{class:I(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(a(),G(h,{key:0,class:I([e.ns.e("status"),e.typeClass])},{default:C(()=>[(a(),G(te(e.iconComponent)))]),_:1},8,["class"])):W("v-if",!0),e.hasMessage?(a(),d("div",{key:1,class:I(e.ns.e("message"))},[on(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(a(),G(te(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(a(),G(te(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:C(()=>[ie(D(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):W("v-if",!0)],2),K(t("div",{class:I(e.ns.e("input"))},[b(l,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":o[2]||(o[2]=v=>e.inputValue=v),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:I({invalid:e.validateError}),onKeydown:Fe(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),t("div",{class:I(e.ns.e("errormsg")),style:He({visibility:e.editorErrorMessage?"visible":"hidden"})},D(e.editorErrorMessage),7)],2),[[j,e.showInput]])],10,ro),t("div",{class:I(e.ns.e("btns"))},[e.showCancelButton?(a(),G(s,{key:0,loading:e.cancelButtonLoading,class:I([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:o[3]||(o[3]=v=>e.handleAction("cancel")),onKeydown:o[4]||(o[4]=Fe(xe(v=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:C(()=>[ie(D(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):W("v-if",!0),K(b(s,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:I([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:o[5]||(o[5]=v=>e.handleAction("confirm")),onKeydown:o[6]||(o[6]=Fe(xe(v=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:C(()=>[ie(D(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[j,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,lo)]),_:3},8,["z-index","overlay-class","mask"]),[[j,e.visible]])]),_:3})}var uo=Qt(so,[["render",co],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const Ke=new Map,po=e=>{let o=document.body;return e.appendTo&&(Rt(e.appendTo)&&(o=document.querySelector(e.appendTo)),gt(e.appendTo)&&(o=e.appendTo),gt(o)||(o=document.body)),o},mo=(e,o,c=null)=>{const u=b(uo,e,_t(e.message)||It(e.message)?{default:_t(e.message)?e.message:()=>e.message}:null);return u.appContext=c,Ot(u,o),po(e).appendChild(o.firstElementChild),u.component},vo=()=>document.createElement("div"),_o=(e,o)=>{const c=vo();e.onVanish=()=>{Ot(null,c),Ke.delete(m)},e.onAction=g=>{const h=Ke.get(m);let y;e.showInput?y={value:m.inputValue,action:g}:y=g,e.callback?e.callback(y,u.proxy):g==="cancel"||g==="close"?e.distinguishCancelAndClose&&g!=="cancel"?h.reject("close"):h.reject("cancel"):h.resolve(y)};const u=mo(e,c,o),m=u.proxy;for(const g in e)vt(e,g)&&!vt(m.$props,g)&&(m[g]=e[g]);return m.visible=!0,m};function Be(e,o=null){if(!sn)return Promise.reject();let c;return Rt(e)||It(e)?e={message:e}:c=e.callback,new Promise((u,m)=>{const g=_o(e,o??Be._context);Ke.set(g,{options:e,callback:c,resolve:u,reject:m})})}const go=["alert","confirm","prompt"],fo={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};go.forEach(e=>{Be[e]=ho(e)});function ho(e){return(o,c,u,m)=>{let g="";return ln(c)?(u=c,g=""):rn(c)?g="":g=c,Be(Object.assign({title:g,message:o,type:"",...fo[e]},u,{boxType:e}),m)}}Be.close=()=>{Ke.forEach((e,o)=>{o.doClose()}),Ke.clear()};Be._context=null;const Le=Be;Le.install=e=>{Le._context=e._context,e.config.globalProperties.$msgbox=Le,e.config.globalProperties.$messageBox=Le,e.config.globalProperties.$alert=Le.alert,e.config.globalProperties.$confirm=Le.confirm,e.config.globalProperties.$prompt=Le.prompt};const bo=Le;const yo={id:"scene"},Eo={__name:"index",setup(e){const o=n("");function c(){o.value.appendChild(editor.canvas)}return je(()=>{}),Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,c)}),Mt(()=>{Editor.off(Editor.events.EDITOR_LOADED,c)}),(u,m)=>(a(),d("div",yo,[t("div",{class:"viewport",ref_key:"viewport",ref:o},null,512)]))}};const rt=e=>(ye("data-v-eff09eb2"),e=e(),Ee(),e),Co=rt(()=>t("div",{class:"tips-text"},[t("p",null,"Directly drop the gltf/glb (folder or zip) or .hdr to here")],-1)),wo=rt(()=>t("div",{class:"tips-icon"},null,-1)),Lo=rt(()=>t("div",{class:"tips-text-bottom"},[t("p",null,"(Click to close this import modal)")],-1)),xo=[Co,wo,Lo],ko={__name:"index",setup(e){const o=n(!1);function c(){const u=editor.tracer.canvas;u.addEventListener("dragenter",()=>{window.isLibraryDrag||(o.value=!0)}),u.addEventListener("dragleave",()=>{window.isLibraryDrag||(o.value=!1)}),new En(u,u).on("drop",({files:g})=>{if(window.isLibraryDrag)return;o.value=!1,Array.from(g).find(([l,s])=>s.name.match(/\.(gltf|glb)$/))?editor.sceneListener.importGLTFModel(g):ze({message:"Please drag in the Folder/Zip containing gltf/glb",center:!0,type:"error",showClose:!0,duration:5e3})})}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,c)}),(u,m)=>(a(),d("div",{class:I(["dropTipsArea",{isDroping:o.value}])},[t("div",{class:I(["tips-area",{isDroping:o.value}])},xo,2)],2))}},$o=ee(ko,[["__scopeId","data-v-eff09eb2"]]);const me=e=>(ye("data-v-d906b46a"),e=e(),Ee(),e),To=me(()=>t("span",{class:"top-menu-title"},"Import",-1)),Do=me(()=>t("span",{class:"top-menu-title"},"Export",-1)),So=me(()=>t("span",null,"Geometry",-1)),Mo=me(()=>t("span",{class:"top-menu-title"},"Add",-1)),Ro=me(()=>t("span",null,"Mesh",-1)),Io=me(()=>t("span",null,"Light",-1)),Oo=me(()=>t("span",null,"Text",-1)),Ao=me(()=>t("span",{class:"iconfont menu-icon icon-undo"},null,-1)),Vo=me(()=>t("span",{class:"top-menu-title"},"Undo",-1)),Po=me(()=>t("span",{class:"iconfont menu-icon icon-redo"},null,-1)),Bo=me(()=>t("span",{class:"top-menu-title"},"Redo",-1)),Uo=me(()=>t("span",{class:"import-tips-text"},"You can directly drag the gltf/glb folder or zip to the page without clicking import button :D",-1)),No={class:"add-dialog-container"},Fo={class:"my-header"},Go={class:"add-dialog-title"},Ho={class:"primitive-params-area"},zo={key:0,class:"component-title"},Ko={class:"dialog-footer"},jo={__name:"index",setup(e){const o=LGL_BACKEND=="webgpu",c=n(!0),u=n(),m=n(!1),g=n(!1),h=n("");n(!1),n();const y=n([]),l=n(""),s=[{type:"box",title:"Box"},{type:"sphere",title:"Sphere"},{type:"plane",title:"Plane"},{type:"cylinder",title:"Cylinder"},{type:"cone",title:"Cone"},{type:"torus",title:"Torus"},{type:"octahedron",title:"Octahedron"},{type:"heartShape",title:"HeartShape",params:{curveSegments:12}}],r=n(1),i=n(1),v=n(1),f=n(1),w=n(1),E=n(1),k=n([{type:"input-number",name:"width",title:p(()=>_.global.t("width")),props:{precision:3,step:.01,min:.01,max:30},value:r},{type:"input-number",name:"height",title:p(()=>_.global.t("height")),props:{precision:3,step:.01,min:.01,max:30},value:i},{type:"input-number",name:"depth",title:p(()=>_.global.t("depth")),props:{precision:3,step:.01,min:.01,max:30},value:v},{type:"input-number",name:"widthSegments",title:p(()=>_.global.t("width segments")),props:{precision:0,step:1,min:1,max:10},value:f},{type:"input-number",name:"heightSegments",title:p(()=>_.global.t("height segments")),props:{precision:0,step:1,min:1,max:10},value:w},{type:"input-number",name:"depthSegments",title:p(()=>_.global.t("depth segments")),props:{precision:0,step:1,min:1,max:10},value:E}]),L=n(.5),O=n(32),T=n(16),q=n([{type:"input-number",name:"radius",title:p(()=>_.global.t("radius")),props:{precision:3,step:.01,min:.1,max:30},value:L},{type:"input-number",name:"widthSegments",title:p(()=>_.global.t("width segments")),props:{precision:0,step:1,min:1,max:64},value:O},{type:"input-number",name:"heightSegments",title:p(()=>_.global.t("height segments")),props:{precision:0,step:1,min:1,max:32},value:T}]),H=n(1),M=n(1),X=n(1),ne=n(1),ge=n([{type:"input-number",name:"width",title:p(()=>_.global.t("width")),props:{precision:3,step:.01,min:.1,max:30},value:H},{type:"input-number",name:"height",title:p(()=>_.global.t("height")),props:{precision:3,step:.01,min:.1,max:30},value:M},{type:"input-number",name:"widthSegments",title:p(()=>_.global.t("width segments")),props:{precision:0,step:1,min:1,max:30},value:X},{type:"input-number",name:"heightSegments",title:p(()=>_.global.t("height segments")),props:{precision:0,step:1,min:1,max:30},value:ne}]),le=n(.5),P=n(.5),se=n(1),Y=n(32),S=n(1),$=n([{type:"input-number",name:"radiusTop",title:p(()=>_.global.t("radius top")),props:{precision:3,step:.01,min:0,max:30},value:le},{type:"input-number",name:"radiusBottom",title:p(()=>_.global.t("radius bottom")),props:{precision:3,step:.01,min:0,max:30},value:P},{type:"input-number",name:"height",title:p(()=>_.global.t("height")),props:{precision:3,step:.01,min:.1,max:50},value:se},{type:"input-number",name:"radialSegments",title:p(()=>_.global.t("radial segments")),props:{precision:0,step:1,min:1,max:64},value:Y},{type:"input-number",name:"heightSegments",title:p(()=>_.global.t("height segments")),props:{precision:0,step:1,min:1,max:64},value:S}]),N=n(.5),oe=n(1),ce=n(32),he=n(1),ae=n([{type:"input-number",name:"radius",title:p(()=>_.global.t("radius")),props:{precision:3,step:.01,min:.01,max:30},value:N},{type:"input-number",name:"height",title:p(()=>_.global.t("height")),props:{precision:3,step:.01,min:.01,max:50},value:oe},{type:"input-number",name:"radialSegments",title:p(()=>_.global.t("radial segments")),props:{precision:0,step:1,min:1,max:64},value:ce},{type:"input-number",name:"heightSegments",title:p(()=>_.global.t("height segments")),props:{precision:0,step:1,min:1,max:64},value:he}]),ve=n(.5),ue=n(.2),Re=n(12),Ie=n(28),We=n([{type:"input-number",name:"radius",title:p(()=>_.global.t("radius")),props:{precision:3,step:.01,min:.01,max:20},value:ve},{type:"input-number",name:"tube",title:p(()=>_.global.t("tube")),props:{precision:3,step:.01,min:.01,max:10},value:ue},{type:"input-number",name:"radialSegments",title:p(()=>_.global.t("radial segments")),props:{precision:0,step:1,min:1,max:32},value:Re},{type:"input-number",name:"tubularSegments",title:p(()=>_.global.t("tubular segments")),props:{precision:0,step:1,min:1,max:64},value:Ie}]),Ue=n(.5),Oe=n(0),qe=n([{type:"input-number",name:"radius",title:p(()=>_.global.t("radius")),props:{precision:3,step:.01,min:.01,max:20},value:Ue},{type:"input-number",name:"detail",title:p(()=>_.global.t("Detail")),props:{precision:0,step:1,min:0,max:5},value:O}]),Ae=n(12),Je=n([{type:"input-number",name:"curveSegments",title:p(()=>_.global.t("curve segments")),props:{precision:0,step:1,min:12,max:32},value:Ae}]),Ye=[{type:"area",title:"Area"},{type:"point",title:"Point"},{type:"direction",title:"Direction"}],z=n("LGLTracer"),x=n(100),de=n(1),we=n(12),U=n(!0),Te=n([{type:"el-input",name:"content",title:p(()=>_.global.t("content")),props:{placeholder:"Text Content"},value:z},{type:"input-number",name:"size",title:p(()=>_.global.t("size")),props:{precision:0,step:1,min:10,max:200},value:x},{type:"input-number",name:"height",title:p(()=>_.global.t("height")),props:{precision:0,step:1,min:1,max:20},value:de},{type:"input-number",name:"curveSegments",title:p(()=>_.global.t("curve segments")),props:{precision:0,step:1,min:12,max:32},value:we},{type:"el-switch",name:"bevelEnabled",title:p(()=>_.global.t("bevel enabled")),props:{},value:U}]),J=["GLB"],Ze=["OBJ","STL"];function De(Z){editor.sceneListener.addTHREELight(Z)}function Ht(){c.value=!c.value}function zt(){m.value=!0}function Kt(){u.value.accept=".fbx, .obj, .stl",u.value.click()}function jt(){u.value.accept=".hdr, .exr",u.value.click()}function ct(Z){editor.sceneListener.exportTypeModel(Z)}function ut(Z){switch(Z){case"box":y.value=k.value,h.value="Box Geometry";break;case"sphere":y.value=q.value,h.value="Sphere Geometry";break;case"plane":y.value=ge.value,h.value="Plane Geometry";break;case"cylinder":y.value=$.value,h.value="Cylinder Geometry";break;case"cone":y.value=ae.value,h.value="Cone Geometry";break;case"torus":y.value=We.value,h.value="Torus Geometry";break;case"octahedron":y.value=qe.value,h.value="Octahedron Geometry";break;case"heartShape":y.value=Je.value,h.value="HeartShape Geometry";break;case"text":y.value=Te.value,h.value="Text Geometry";break}l.value=Z,g.value=!0}function Wt(){const Z=h.value.toLowerCase();switch(g.value=!1,console.log("curType",Z),Z){case"box geometry":editor.sceneListener.addTHREEMesh(Z,{width:r.value,height:i.value,depth:v.value,widthSegments:f.value,heightSegments:w.value,depthSegments:E.value});break;case"sphere geometry":editor.sceneListener.addTHREEMesh(Z,{radius:L.value,widthSegments:O.value,heightSegments:T.value});break;case"plane geometry":editor.sceneListener.addTHREEMesh(Z,{width:H.value,height:M.value,widthSegments:X.value,heightSegments:ne.value});break;case"cylinder geometry":editor.sceneListener.addTHREEMesh(Z,{radiusTop:le.value,radiusBottom:P.value,height:se.value,radialSegments:Y.value,heightSegments:S.value});break;case"cone geometry":editor.sceneListener.addTHREEMesh(Z,{radius:N.value,height:oe.value,radialSegments:ce.value,heightSegments:he.value});break;case"torus geometry":editor.sceneListener.addTHREEMesh(Z,{radius:ve.value,tube:ue.value,radialSegments:Re.value,tubularSegments:Ie.value});break;case"octahedron geometry":editor.sceneListener.addTHREEMesh(Z,{radius:Ue.value,detail:Oe.value});break;case"heartshape geometry":editor.sceneListener.addTHREEMesh(Z,{curveSegments:Ae.value});break;case"text geometry":editor.sceneListener.addTHREEMesh(Z,{content:z.value,size:x.value,height:de.value,curveSegments:we.value,bevelEnabled:U.value});break}}function qt(){editor.historyListener.redo()}function Jt(){editor.historyListener.undo()}function Xt(){}return je(()=>{u.value.addEventListener("change",Z=>{const re=Z.target.files[0];re.name&&editor.sceneListener.importTypeFile(re)})}),Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,Xt)}),(Z,re)=>{const fe=R("el-menu-item"),Ve=R("el-sub-menu"),Yt=R("el-menu"),dt=R("el-dialog"),pt=R("el-button");return a(),d("div",{class:I(["top-left-menu-container",{"is-open":c.value}])},[b(Yt,{mode:"horizontal",class:"menu-content",ellipsis:!1},{default:C(()=>[b(Ve,{index:"1"},{title:C(()=>[To]),default:C(()=>[b(fe,{index:"1-1",onClick:zt},{default:C(()=>[ie("GLTF/GLB")]),_:1}),b(fe,{index:"1-2",onClick:Kt},{default:C(()=>[ie("FBX/OBJ/STL")]),_:1}),b(fe,{index:"1-3",onClick:jt},{default:C(()=>[ie("HDR/EXR")]),_:1})]),_:1}),b(Ve,{index:"2"},{title:C(()=>[Do]),default:C(()=>[(a(),d(A,null,V(J,(F,be)=>b(fe,{index:`2-${be}`,onClick:Ne=>ct(F)},{default:C(()=>[ie(D(F),1)]),_:2},1032,["index","onClick"])),64)),b(Ve,{index:"2-4"},{title:C(()=>[So]),default:C(()=>[(a(),d(A,null,V(Ze,(F,be)=>b(fe,{key:F,index:`2-4-${be}`,onClick:Ne=>ct(F)},{default:C(()=>[t("span",null,D(F),1)]),_:2},1032,["index","onClick"])),64))]),_:1})]),_:1}),o?(a(),G(Ve,{key:0,index:"3"},{title:C(()=>[Mo]),default:C(()=>[b(Ve,{index:"3-1"},{title:C(()=>[Ro]),default:C(()=>[(a(),d(A,null,V(s,(F,be)=>b(fe,{key:F.type,index:`3-1-${be}`,onClick:Ne=>ut(F.type)},{default:C(()=>[t("span",{class:I(["iconfont menu-item-icon",`icon-${F.type}`])},null,2),t("span",null,D(F.title),1)]),_:2},1032,["index","onClick"])),64))]),_:1}),b(Ve,{index:"3-2"},{title:C(()=>[Io]),default:C(()=>[(a(),d(A,null,V(Ye,(F,be)=>b(fe,{key:F.type,index:`3-2-${be}`,onClick:Ne=>De(F.type)},{default:C(()=>[t("span",null,D(F.title),1)]),_:2},1032,["index","onClick"])),64))]),_:1}),b(fe,{index:"3-3",onClick:re[0]||(re[0]=F=>ut("text"))},{default:C(()=>[Oo]),_:1})]),_:1})):W("",!0),b(fe,{index:"4",onClick:Jt},{default:C(()=>[Ao,Vo]),_:1}),b(fe,{index:"5",onClick:qt},{default:C(()=>[Po,Bo]),_:1})]),_:1}),t("div",{class:"menu-toggle",onClick:Ht}),t("input",{ref_key:"importInput",ref:u,style:{display:"none"},type:"file",class:"importInput"},null,512),b(dt,{modelValue:m.value,"onUpdate:modelValue":re[1]||(re[1]=F=>m.value=F),width:400,title:"Tips",center:""},{default:C(()=>[Uo]),_:1},8,["modelValue"]),t("div",No,[b(dt,{modelValue:g.value,"onUpdate:modelValue":re[4]||(re[4]=F=>g.value=F),width:330,center:"","show-close":!1,"close-on-click-modal":!1},{header:C(()=>[t("div",Fo,[t("span",{class:I(["iconfont add-dialog-icon",`icon-${l.value}`])},null,2),t("span",Go,D(`${h.value} Setting`),1)])]),footer:C(()=>[t("span",Ko,[b(pt,{onClick:re[2]||(re[2]=F=>g.value=!1)},{default:C(()=>[ie("Cancel")]),_:1}),b(pt,{type:"primary",onClick:re[3]||(re[3]=F=>Wt())},{default:C(()=>[ie(" Confirm ")]),_:1})])]),default:C(()=>[t("div",Ho,[(a(!0),d(A,null,V(y.value,(F,be)=>(a(),d("div",{key:be,class:"component-container"},[F.title?(a(),d("div",zo,D(F.title),1)):W("",!0),(a(),G(te(F.type),_e({class:"componet-body",modelValue:F.value,"onUpdate:modelValue":Ne=>F.value=Ne},F.props),null,16,["modelValue","onUpdate:modelValue"]))]))),128))])]),_:1},8,["modelValue"])])],2)}}},Wo=ee(jo,[["__scopeId","data-v-d906b46a"]]);const Ut=e=>(ye("data-v-6097ef80"),e=e(),Ee(),e),qo={class:"menu-content"},Jo={class:"sample-count"},Xo=Ut(()=>t("span",{class:"item-text pre-text"},"Samples:",-1)),Yo={class:"item-text cur-sample-text"},Zo=Ut(()=>t("span",{class:"item-text split-text"},"/",-1)),Qo={class:"item-text target-sample-text"},ea={__name:"index",setup(e){const o=n(),c=n(!0),u=n(0),m=n(0);function g(){c.value=!c.value}function h(){var r,i;(i=(r=o.value)==null?void 0:r.blur)==null||i.call(r)}function y(){m.value=editor.tracer.targetSampleCount,u.value=editor.tracer.sampleCount}function l(){u.value=editor.tracer.sampleCount}const s=r=>{editor.tracer.targetSampleCount=r};return Q(()=>{Editor.on(Editor.events.RENDER_DRAWCALL,l),Editor.on(Editor.events.EDITOR_LOADED,y)}),(r,i)=>{const v=R("el-input");return a(),d("div",{class:I(["top-right-menu-container",{"is-open":c.value}])},[t("div",{class:"menu-toggle",onClick:i[0]||(i[0]=f=>g())}),t("ul",qo,[t("li",Jo,[Xo,t("span",Yo,D(u.value),1),Zo,t("span",Qo,[b(v,{ref_key:"input",ref:o,modelValue:m.value,"onUpdate:modelValue":i[1]||(i[1]=f=>m.value=f),placeholder:"",max:99999,min:0,onKeydown:[Fe(xe(h,["prevent"]),["enter"]),i[2]||(i[2]=xe(()=>{},["stop"]))],onKeyup:i[3]||(i[3]=xe(()=>{},["stop"])),onChange:s},null,8,["modelValue","onKeydown"])])])])],2)}}},ta=ee(ea,[["__scopeId","data-v-6097ef80"]]);const na={class:"property-container"},oa={class:"mesh-name"},aa={class:"mesh-name-text"},sa={__name:"index",setup(e){const o=n(""),c=ke({x:0,y:0,z:0}),{x:u,y:m,z:g}=$e(c),h=ke({x:0,y:0,z:0}),{x:y,y:l,z:s}=$e(h),r=ke({x:1,y:1,z:1}),{x:i,y:v,z:f}=$e(r),w=new Cn,E=new yt,k=new wn,L=new Ln,O=new yt,T=n(!0),q=n(!0),H=n([{type:"input-group",name:"position",show:!0,props:{title:p(()=>_.global.t("position")),precision:3},value:{x:{value:u,name:"X",step:.01},y:{value:m,name:"Y",step:.01},z:{value:g,name:"Z",step:.01}}},{type:"input-group",name:"rotation",show:T,props:{title:p(()=>_.global.t("rotation")),precision:2},value:{x:{value:y,name:"X",step:1,min:-360,max:360},y:{value:l,name:"Y",step:1,min:-360,max:360},z:{value:s,name:"Z",step:1,min:-360,max:360}}},{type:"input-group",name:"scale",show:q,props:{title:p(()=>_.global.t("scale")),precision:3,canLock:!0},value:{x:{value:i,name:"X",step:.001,min:.001},y:{value:v,name:"Y",step:.001,min:.001},z:{value:f,name:"Z",step:.001,min:.001}}}]);function M(P,se,Y){E.fromArray(P),k.fromArray(se.map(S=>Ge.degToRad(S))),O.fromArray(Y),L.identity(),L.setFromEuler(k),w.compose(E,L,O)}function X(P,se,Y){P==="scale"&&se.isLocked&&(i.value=v.value=f.value=se.value),M([u.value,m.value,g.value],[y.value,l.value,s.value],[i.value,v.value,f.value]),editor.renderListener.updateMeshTransform(w,Y,P)}function ne(P){u.value=P.position.x,m.value=P.position.y,g.value=P.position.z,y.value=Ge.radToDeg(P.rotation.x),l.value=Ge.radToDeg(P.rotation.y),s.value=Ge.radToDeg(P.rotation.z),i.value=P.scale.x,v.value=P.scale.y,f.value=P.scale.z}function ge(P){if(P){if(P.isLight)switch(P.type){case"RectAreaLight":T.value=!0,q.value=!1;break;case"PointLight":case"DirectionalLight":T.value=!1,q.value=!1}else T.value=!0,q.value=!0;o.value=P.name,ne(P)}}function le(P){P&&ne(P)}return Q(()=>{Editor.on(Editor.events.OBJECT_SELECTED,ge),Editor.on(Editor.events.TRANSFORM_CHANGE,le)}),(P,se)=>(a(),d("div",na,[t("div",oa,[ie(" Name: "),t("span",aa,D(o.value),1)]),(a(!0),d(A,null,V(H.value,(Y,S)=>(a(),d("div",{key:S},[K((a(),G(te(Y.type),_e({modelValue:Y.value,"onUpdate:modelValue":$=>Y.value=$},Y.props,{onInput:$=>X(Y.name,$,!1),onChange:$=>X(Y.name,$,!0)}),null,16,["modelValue","onUpdate:modelValue","onInput","onChange"])),[[j,Y.show]])]))),128))]))}},la=ee(sa,[["__scopeId","data-v-c60057f8"]]);const ia={class:"material-container"},ra={class:"material-name"},ca={class:"material-name-text"},ua={key:0,class:"component-container"},da={key:0,class:"component-title"},pa={key:0,class:"component-title"},ma={key:0,class:"component-title"},va={__name:"index",setup(e){const o=LGL_BACKEND=="webgpu",c=n(""),u=n([]),m=n("#000000"),g=n("Metalness"),h=n(0),y=n(0),l=n(0),s=n(1.5),r=n("#000000"),i=n(1),v=n(1),f=n(.1),w=n(0),E=n(.5),k=n(0),L=n("#000000"),O=n(.05),T=n(1),q=n("#FFFFFF"),H=n(1),M=n(!0),X=ke({x:0,y:0}),{x:ne,y:ge}=$e(X),le=ke({x:0,y:0}),{x:P,y:se}=$e(le),Y=ke({x:1,y:1}),{x:S,y:$}=$e(Y),N=n(0),oe=n("Repeat"),ce=n("Repeat"),he=n([{type:"color-picker",name:"color",title:p(()=>_.global.t("color")),value:m},{type:"slider",name:"roughness",title:p(()=>_.global.t("roughness")),props:{step:.01,min:0,max:1},workflow:"Metalness",value:h},{type:"slider",name:"metalness",title:p(()=>_.global.t("metalness")),props:{step:.01,min:0,max:1},workflow:"Metalness",value:y},{type:"color-picker",name:"specularColor",title:p(()=>_.global.t("specularColor")),workflow:"Specular",value:q},{type:"slider",name:"glossiness",title:p(()=>_.global.t("glossiness")),props:{step:.01,min:0,max:1},workflow:"Specular",value:H},{type:"slider",name:"transmission",title:p(()=>_.global.t("transmission")),props:{step:.01,min:0,max:1},value:l},{type:"slider",name:"ior",title:p(()=>_.global.t("ior")),props:{step:.01,min:1,max:2.2},value:s},{type:"color-picker",name:"emissive",title:p(()=>_.global.t("emissive")),value:r},{type:"slider",name:"emissiveIntensity",title:p(()=>_.global.t("emissive intensity")),value:i,props:{step:.01,min:1,max:10}},{type:"slider",name:"alpha",title:p(()=>_.global.t("alpha")),props:{step:.01,min:0,max:1},value:T}]),ae=n([{type:"slider",name:"subsurface",title:p(()=>_.global.t("subsurface")),props:{step:.01,min:0,max:1},value:k},{type:"color-picker",name:"subsurfaceColor",title:p(()=>_.global.t("subsurface color")),value:L},{type:"slider",name:"subsurfaceMFP",title:p(()=>_.global.t("subsurface mfp")),props:{precision:3,step:.01,min:0,max:1},value:O}]),ve=n([{type:"slider",name:"clearcoat",title:p(()=>_.global.t("clearcoat")),props:{step:.01,min:0,max:1},value:v},{type:"slider",name:"clearcoatRoughness",title:p(()=>_.global.t("clearcoat roughness")),props:{step:.01,min:0,max:1},value:f},{type:"slider",name:"sheen",title:p(()=>_.global.t("sheen")),props:{step:.01,min:0,max:1},value:w},{type:"slider",name:"sheenTint",title:p(()=>_.global.t("sheen tint")),props:{step:.01,min:0,max:1},value:E}]),ue=n([{type:"input-group",name:"offset",show:!0,props:{title:p(()=>_.global.t("offset")),precision:3},value:{x:{value:ne,name:"X",step:.01},y:{value:ge,name:"Y",step:.01}}},{type:"input-group",name:"repeat",show:!0,props:{title:p(()=>_.global.t("repeat")),precision:3},value:{x:{value:P,name:"X",step:.01},y:{value:se,name:"Y",step:.01}}},{type:"input-group",name:"center",show:!0,props:{title:p(()=>_.global.t("center")),precision:3},value:{x:{value:S,name:"X",step:.01},y:{value:$,name:"Y",step:.01}}},{type:"slider",name:"rotation",title:p(()=>_.global.t("rotation")),props:{step:1,min:0,max:360},value:N},{type:"select",name:"wrapS",title:p(()=>_.global.t("wrapS")),props:{options:[{label:"Repeat",value:"Repeat"},{label:"ClampToEdge",value:"ClampToEdge"},{label:"MirroredRepeat",value:"MirroredRepeat"}]},value:oe},{type:"select",name:"wrapT",title:p(()=>_.global.t("wrapT")),props:{options:[{label:"Repeat",value:"Repeat"},{label:"ClampToEdge",value:"ClampToEdge"},{label:"MirroredRepeat",value:"MirroredRepeat"}]},value:ce}]),Re=n(o?[{title:"Subsurface",components:ae},{title:"Advanced",components:ve}]:[{title:"Advanced",components:ve}]),Ie=n({title:"Texture UV Transform",components:ue}),We={1e3:"Repeat",1001:"ClampToEdge",1002:"MirroredRepeat"};let Ue=!0;async function Oe(z,x,de){switch(z=="color"&&(m.value=x),z=="specularColor"&&(q.value=x),z=="emissive"&&(r.value=x),z=="subsurfaceColor"&&(L.value=x),z){case"color":case"specularColor":case"emissive":case"subsurfaceColor":x=xn(x);break}if(z.includes("subsurface")&&Ue){Ue=!1;const we=document.querySelector(".building-text-container .building-text"),U=document.querySelector(".building-text-container");U.classList.add("building"),we.textContent="Building...",await editor.renderListener.updateMeshMaterialParam(z,x,de),U.classList.remove("building")}else await editor.renderListener.updateMeshMaterialParam(z,x,de);z=="transmission"&&x>0&&editor.tracer.bounces<5&&(editor.tracer.bounces=5)}function qe(z,x,de){editor.renderListener.updateMeshMaterialUVTransformParam(z,x,de)}function Ae(z){const x=z.material;x.color?m.value=`#${x.color.getHexString()}`:m.value=Qe(x.userData.color),h.value=x.roughness??x.userData.roughness,y.value=x.metalness??x.userData.metalness,l.value=x.transmission??x.userData.transmission,s.value=x.ior??x.userData.ior,x.emissive?r.value=`#${x.emissive.getHexString()}`:r.value=Qe(x.userData.emissive),i.value=x.emissiveIntensity??x.userData.emissiveIntensity,v.value=x.clearcoat??x.userData.clearcoat,f.value=x.clearcoatRoughness??x.userData.clearcoatRoughness,w.value=x.sheen??x.userData.sheen,E.value=x.sheenTint??x.userData.sheenTint,T.value=x.opacity??x.userData.alpha,g.value=="Specular"&&(q.value=`#${x.specular.getHexString()}`,H.value=x.glossiness),k.value=x.userData.subsurface,O.value=x.userData.subsurfaceMFP,L.value=Qe(x.userData.subsurfaceColor),M.value=!!x.map,Je(z)}function Je(z){const x=z.material;if(!x.map)return;ne.value=x.map.offset.x,ge.value=x.map.offset.y,P.value=x.map.repeat.x,se.value=x.map.repeat.y,S.value=x.map.center.x,S.value=x.map.center.y,N.value=Ge.radToDeg(x.map.rotation);const de=x.map.wrapS,we=x.map.wrapT;oe.value=We[de],ce.value=We[we]}function Ye(z){if(!z||!z.material)return;const x=z.material;c.value=x.name,g.value=x.isGLTFSpecularGlossinessMaterial?"Specular":"Metalness",Ae(z)}return Q(()=>{Editor.on(Editor.events.OBJECT_SELECTED,Ye),Editor.on(Editor.events.MATERIAL_PARAM_CHANGE,Ae),Editor.on(Editor.events.MATERIAL_CHANGE,Ae),Editor.on(Editor.events.MATERIAL_TEXTURE_PARAM_CHANGE,Je)}),(z,x)=>{const de=R("el-collapse-item"),we=R("el-collapse");return a(),d("div",ia,[t("div",ra,[ie(" Name: "),t("span",ca,D(c.value),1)]),(a(!0),d(A,null,V(he.value,(U,Te)=>(a(),d(A,{key:Te},[!U.workflow||g.value==U.workflow?(a(),d("div",ua,[U.title?(a(),d("div",da,D(U.title),1)):W("",!0),(a(),G(te(U.type),_e({class:"componet-body",modelValue:U.value,"onUpdate:modelValue":J=>U.value=J},U.props,{onChange:J=>Oe(U.name,J,!0),onInput:J=>(U.type=="slider"||"color-picker")&&Oe(U.name,J,!1)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))])):W("",!0)],64))),128)),b(we,{modelValue:u.value,"onUpdate:modelValue":x[0]||(x[0]=U=>u.value=U),class:"inner-collapse",accordion:""},{default:C(()=>[(a(!0),d(A,null,V(Re.value,(U,Te)=>(a(),G(de,{title:U.title,name:Te},{default:C(()=>[(a(!0),d(A,null,V(U.components,(J,Ze)=>(a(),d("div",{key:Ze,class:"component-container"},[J.title?(a(),d("div",pa,D(J.title),1)):W("",!0),(a(),G(te(J.type),_e({class:"componet-body",modelValue:J.value,"onUpdate:modelValue":De=>J.value=De},J.props,{onChange:De=>Oe(J.name,De,!0),onInput:De=>(J.type=="slider"||"color-picker")&&Oe(J.name,De,!1)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))]))),128))]),_:2},1032,["title","name"]))),256)),o?K((a(),G(de,{key:0,title:Ie.value.title,name:"uv"},{default:C(()=>[(a(!0),d(A,null,V(Ie.value.components,(U,Te)=>(a(),d("div",{key:Te,class:"component-container"},[U.title?(a(),d("div",ma,D(U.title),1)):W("",!0),(a(),G(te(U.type),_e({class:"componet-body",modelValue:U.value,"onUpdate:modelValue":J=>U.value=J},U.props,{onChange:J=>qe(U.name,J,!0),onInput:J=>(U.type=="slider"||"input-group")&&qe(U.name,J,!1)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))]))),128))]),_:1},8,["title"])),[[j,M.value]]):W("",!0)]),_:1},8,["modelValue"])])}}},_a=ee(va,[["__scopeId","data-v-f449f0f1"]]);const ga={class:"light-container"},fa={class:"component-container"},ha={key:0,class:"component-title"},ba={__name:"index",setup(e){const o=n(""),c=n("RectAreaLight"),u=n("#ffffff"),m=n(1),g=n(1),h=n(1),y=ke({x:0,y:0,z:0}),{x:l,y:s,z:r}=$e(y),i=n([{type:"color-picker",name:"color",title:p(()=>_.global.t("color")),value:u,props:{}},{type:"slider",name:"intensity",title:p(()=>_.global.t("intensity")),props:{step:.01,min:0,max:10},value:m},{type:"slider",name:"width",includeLightType:["RectAreaLight"],title:p(()=>_.global.t("width")),props:{step:.01,min:.01,max:10},value:g},{type:"slider",name:"height",includeLightType:["RectAreaLight"],title:p(()=>_.global.t("height")),props:{step:.01,min:.01,max:10},value:h},{type:"input-group",name:"target",includeLightType:["DirectionalLight"],props:{title:p(()=>_.global.t("target")),precision:3},value:{x:{value:l,name:"X",step:.01},y:{value:s,name:"Y",step:.01},z:{value:r,name:"Z",step:.01}}}]);function v(E,k,L){E=="color"&&(u.value=k),editor.renderListener.updateLightParam(E,k,L)}function f(E){switch(E.color!==void 0&&(u.value=`#${E.color.getHexString()}`),E.intensity!==void 0&&(m.value=E.intensity),E.type){case"RectAreaLight":g.value=E.width,h.value=E.height;break;case"PointLight":break;case"DirectionalLight":l.value=E.target.position.x,s.value=E.target.position.y,r.value=E.target.position.z}}function w(E){if(!E||!E.isLight)return;const k=E.type;o.value=E.name,c.value=k,f(E)}return Q(()=>{Editor.on(Editor.events.OBJECT_SELECTED,w),Editor.on(Editor.events.LIGHT_PARAM_CHANGE,f)}),(E,k)=>(a(),d("div",ga,[(a(!0),d(A,null,V(i.value,(L,O)=>(a(),d("div",{key:O},[K(t("div",fa,[L.title?(a(),d("div",ha,D(L.title),1)):W("",!0),(a(),G(te(L.type),_e({class:"componet-body",modelValue:L.value,"onUpdate:modelValue":T=>L.value=T},L.props,{onChange:T=>v(L.name,T,!0),onInput:T=>(L.type=="slider"||"input-group")&&v(L.name,T,!1)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))],512),[[j,!L.includeLightType||L.includeLightType.includes(c.value)]])]))),128))]))}},ya=ee(ba,[["__scopeId","data-v-4de5aecf"]]);const Ea={class:"mesh-container"},Ca={class:"tab-header"},wa={class:"tab-title"},La={class:"tab-title-text"},xa={class:"collapse-container"},ka={__name:"index",props:["closeDrawer"],setup(e){const o=LGL_BACKEND=="webgpu",c=n(!1),u=n(""),m=n([1,2]),g=n({title:p(()=>_.global.t("property")),icon:"transform"});function h(y){y?(c.value=!0,y.isMesh?u.value="material":y.isLight?u.value="light":u.value=""):c.value=!1}return Q(()=>{Editor.on(Editor.events.OBJECT_SELECTED,h)}),(y,l)=>{const s=R("el-collapse-item"),r=R("el-empty"),i=R("el-collapse"),v=R("el-scrollbar");return a(),d("div",Ea,[t("div",{class:"header-container",onClick:l[0]||(l[0]=(...f)=>e.closeDrawer&&e.closeDrawer(...f))},[t("div",Ca,[t("div",wa,[t("span",{class:I(["iconfont tab-icon","icon-"+g.value.icon])},null,2),t("span",La,D(g.value.title),1)])])]),K(t("div",xa,[b(v,{class:"mesh-scrollbar",height:"100%"},{default:C(()=>[b(i,{modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=f=>m.value=f)},{default:C(()=>[b(s,{title:"Transform",name:1},{default:C(()=>[b(la)]),_:1}),K(b(s,{title:"Material",name:2},{default:C(()=>[b(_a),K(b(r,{description:"No Selected Mesh"},null,512),[[j,u.value!="material"]])]),_:1},512),[[j,u.value=="material"]]),o?K((a(),G(s,{key:0,title:"Light",name:2},{default:C(()=>[b(ya),K(b(r,{description:"No Selected Light"},null,512),[[j,u.value!="light"]])]),_:1},512)),[[j,u.value=="light"]]):W("",!0)]),_:1},8,["modelValue"])]),_:1})],512),[[j,c.value]]),K(b(r,{description:"No Selected Object"},null,512),[[j,!c.value]])])}}},$a=ee(ka,[["__scopeId","data-v-25ef7d4d"]]),Ta={class:"setting-container"},Da={class:"component-title"},Sa={class:"component-container"},Ma={class:"component-title"},Ra={class:"component-container"},Ia={class:"component-title"},Oa={class:"component-container"},Aa={class:"component-title"},Va={__name:"index",setup(e){const o=n(2),c=n(4),u=n(1),m=n(0),g=n("Linear"),h=n(!1),y=n("#000000"),l=n(!1),s=n(4),r=n("Auto"),i=n([{type:"slider",name:"downsamplingFactor",title:p(()=>_.global.t("moving downsampling")),props:{step:1,min:1,max:10},value:c},{type:"slider",name:"envMapIntensity",title:p(()=>_.global.t("env map intensity")),props:{step:.1,min:0,max:5},value:u},{type:"slider",name:"envRotation",title:p(()=>_.global.t("env rotation")),props:{step:1,min:0,max:360},value:m},{type:"el-switch",name:"enableBackgroundColor",title:p(()=>_.global.t("enable bgcolor")),props:{size:"small"},value:h},{type:"color-picker",name:"backgroundColor",title:p(()=>_.global.t("bgcolor")),value:y},{type:"select",name:"toneMapping",title:p(()=>_.global.t("tone mapping")),props:{options:[{label:"Linear",value:"Linear"},{label:"ACES",value:"ACES"}]},value:g}]),v=[{label:"Auto",value:"Auto"},{label:"Manual",value:"Manual"}];function f(k,L){editor.renderListener.updateTracerSetting(k,L)}function w(k){editor.setTileRenderMode(k)}function E(){const k=editor.tracer;o.value=k.bounces,c.value=k.downsamplingFactor,u.value=k.envMapIntensity,m.value=k.envRotation,g.value=k.toneMapping,h.value=k.enableBackgroundColor,y.value=k.backgroundColor.getHex(),l.value=k.enableTileRender,s.value=k.tileNumber,r.value==editor.autoTile}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,E)}),(k,L)=>{const O=R("el-switch"),T=R("el-option"),q=R("el-select"),H=R("slider");return a(),d("div",Ta,[(a(!0),d(A,null,V(i.value,(M,X)=>(a(),d("div",{key:X,class:"component-container"},[t("div",Da,D(M.title),1),(a(),G(te(M.type),_e({class:"componet-body",modelValue:M.value,"onUpdate:modelValue":ne=>M.value=ne},M.props,{onChange:ne=>f(M.name,ne),onInput:ne=>M.type=="slider"&&f(M.name,ne)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))]))),128)),t("div",Sa,[t("div",Ma,D(k.$t("enable tile")),1),b(O,{class:"componet-body",onChange:L[0]||(L[0]=M=>f("enableTileRender",M)),modelValue:l.value,"onUpdate:modelValue":L[1]||(L[1]=M=>l.value=M),size:"small"},null,8,["modelValue"])]),t("div",Ra,[t("div",Ia,D(k.$t("tile setting mode")),1),b(q,{class:"componet-body",modelValue:r.value,"onUpdate:modelValue":L[2]||(L[2]=M=>r.value=M),placeholder:"Select",onChange:L[3]||(L[3]=M=>w(M))},{default:C(()=>[(a(),d(A,null,V(v,M=>b(T,{key:M.value,label:M.label,value:M.value,disabled:M.disabled},{default:C(()=>[t("div",null,D(M.label),1)]),_:2},1032,["label","value","disabled"])),64))]),_:1},8,["modelValue"])]),t("div",Oa,[t("div",Aa,D(k.$t("tile number")),1),b(H,{class:"componet-body",onChange:L[4]||(L[4]=M=>f("tileNumber",M)),onInput:L[5]||(L[5]=M=>f("tileNumber",M)),disabled:r.value=="Auto",modelValue:s.value,"onUpdate:modelValue":L[6]||(L[6]=M=>s.value=M),step:1,min:1,max:32},null,8,["disabled","modelValue"])])])}}},Pa={class:"camera-container"},Ba={key:0,class:"component-title"},Ua={__name:"index",setup(e){const o=n("Perspective"),c=n(0),u=n(10),m=n(""),g=n(!0),h=n([{type:"select",name:"type",title:p(()=>_.global.t("type")),props:{options:[{label:"Perspective",value:"Perspective"},{label:"Orthographic",value:"Orthographic"}]},value:o},{type:"select",name:"viewAngle",title:p(()=>_.global.t("view angle")),props:{options:[{label:"Front",value:"Front"},{label:"Back",value:"Back"},{label:"Right",value:"Right"},{label:"Left",value:"Left"},{label:"Top",value:"Top"},{label:"Bottom",value:"Bottom"}]},value:m},{type:"el-switch",name:"autoFocus",title:p(()=>_.global.t("autoFocus")),props:{size:"small"},value:g},{type:"slider",name:"aperture",title:p(()=>_.global.t("aperture")),props:{step:.001,min:0,max:1},value:c},{type:"slider",name:"focus",title:p(()=>_.global.t("focus")),props:{step:.1,min:.1,max:100},value:u}]);function y(i,v){editor.renderListener.updateCameraSetting(i,v)}function l(){const i=editor.camera,v=i.isPerspectiveCamera?"Perspective":"Orthographic";o.value=v,c.value=i.aperture,u.value=i.focus,g.value=editor.renderListener.enableRightClickFocus}function s(i){let v="",f="";switch(i.name){case"refocus":editor.renderListener.autoFitCameraByModel();break;case"switchCamera":let E=o.value=="Perspective"?"Orthographic":"Perspective";editor.switchCamera(E),o.value=E;break;case"viewAngleFront":switch(f=i.oriEvent.key,f){case"1":v="Front";break;case"2":v="Right";break;case"3":v="Top";break}m.value=v,editor.renderListener.setCameraViewAngle(v);break;case"viewAngleBack":switch(f=i.oriEvent.key,f){case"4":v="Back";break;case"5":v="Left";break;case"6":v="Bottom";break}m.value=v,editor.renderListener.setCameraViewAngle(v);break}}function r(){const i=editor.camera;u.value=i.focus}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,l),Editor.on(Editor.events.SHORTCUT_COMMAND_UP,s),Editor.on(Editor.events.CAMERA_PARAM_CHANGE,r)}),(i,v)=>(a(),d("div",Pa,[(a(!0),d(A,null,V(h.value,(f,w)=>(a(),d("div",{key:w,class:"component-container"},[f.title?(a(),d("div",Ba,D(f.title),1)):W("",!0),(a(),G(te(f.type),_e({class:"componet-body",modelValue:f.value,"onUpdate:modelValue":E=>f.value=E},f.props,{onChange:E=>y(f.name,E),onInput:E=>f.type=="slider"&&y(f.name,E)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))]))),128))]))}},Na={class:"postprocessing-container"},Fa={key:0,class:"component-title"},Ga={key:0,class:"component-title"},Ha={__name:"index",setup(e){const o=LGL_BACKEND=="webgpu",c=n([1]),u=n(!1),m=n(.8),g=n(.1),h=n(1),y=n(.5),l=n(!1),s=n(.5),r=n(.5),i=n([{type:"el-switch",name:"enabled",title:p(()=>_.global.t("enabled")),props:{size:"small"},value:u},{type:"slider",name:"threshold",title:p(()=>_.global.t("threshold")),props:{step:.01,min:0,max:1},value:m},{type:"slider",name:"smooth",title:p(()=>_.global.t("smooth")),props:{step:.001,min:0,max:.5},value:g},{type:"slider",name:"radius",title:p(()=>_.global.t("radius")),props:{step:.01,min:0,max:2},value:y},{type:"slider",name:"strength",title:p(()=>_.global.t("strength")),props:{step:.01,min:0,max:5},value:h}]),v=n([{type:"el-switch",name:"enabled",title:p(()=>_.global.t("enabled")),props:{size:"small"},value:l},{type:"slider",name:"offset",title:p(()=>_.global.t("offset")),props:{step:.01,min:0,max:1},value:s},{type:"slider",name:"darkness",title:p(()=>_.global.t("darkness")),props:{step:.01,min:0,max:1},value:r}]);function f(E,k,L){editor.renderListener.updatePostProcessingSetting(E,k,L)}function w(){const E=editor.renderListener.composer.bloomPass;u.value=E.enabled,m.value=E.threshold,g.value=E.smooth,h.value=E.strength,o&&(y.value=E.radius);const k=editor.renderListener.composer.vignettePass;l.value=k.enabled,s.value=k.offset,r.value=k.darkness}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,w)}),(E,k)=>{const L=R("el-collapse-item"),O=R("el-collapse");return a(),d("div",Na,[b(O,{modelValue:c.value,"onUpdate:modelValue":k[0]||(k[0]=T=>c.value=T),class:"inner-collapse"},{default:C(()=>[b(L,{title:"Bloom",name:1},{default:C(()=>[(a(!0),d(A,null,V(i.value,(T,q)=>(a(),d("div",{key:q,class:"component-container"},[T.title?(a(),d("div",Fa,D(T.title),1)):W("",!0),(a(),G(te(T.type),_e({class:"componet-body",modelValue:T.value,"onUpdate:modelValue":H=>T.value=H},T.props,{onChange:H=>f("bloom",T.name,H),onInput:H=>T.type=="slider"&&f("bloom",T.name,H)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))]))),128))]),_:1}),b(L,{title:"Vignette",name:2},{default:C(()=>[(a(!0),d(A,null,V(v.value,(T,q)=>(a(),d("div",{key:q,class:"component-container"},[T.title?(a(),d("div",Ga,D(T.title),1)):W("",!0),(a(),G(te(T.type),_e({class:"componet-body",modelValue:T.value,"onUpdate:modelValue":H=>T.value=H},T.props,{onChange:H=>f("vignette",T.name,H),onInput:H=>T.type=="slider"&&f("vignette",T.name,H)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))]))),128))]),_:1})]),_:1},8,["modelValue"])])}}},za={class:"denoise-container"},Ka={key:0,class:"component-title"},ja={__name:"index",setup(e){const o=n(!1),c=n(0),u=n(0),m=n(0),g=n([{type:"el-switch",name:"enableDenoise",title:p(()=>_.global.t("enabled")),props:{size:"small"},value:o},{type:"slider",name:"denoiseColorFactor",title:p(()=>_.global.t("color factor")),props:{step:1e-4,min:0,max:1.5},value:c},{type:"slider",name:"denoiseNormalFactor",title:p(()=>_.global.t("normal factor")),props:{step:1e-4,min:0,max:1.5},value:u},{type:"slider",name:"denoisePositionFactor",title:p(()=>_.global.t("position factor")),props:{step:1e-4,min:0,max:1.5},value:m}]);function h(l,s){editor.renderListener.updateDenoiseSetting(l,s)}function y(){const l=editor.tracer;o.value=l.enableDenoise,c.value=l.denoiseColorFactor,u.value=l.denoiseNormalFactor,m.value=l.denoisePositionFactor}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,y)}),(l,s)=>(a(),d("div",za,[(a(!0),d(A,null,V(g.value,(r,i)=>(a(),d("div",{key:i,class:"component-container"},[r.title?(a(),d("div",Ka,D(r.title),1)):W("",!0),(a(),G(te(r.type),_e({class:"componet-body",modelValue:r.value,"onUpdate:modelValue":v=>r.value=v},r.props,{onChange:v=>h(r.name,v),onInput:v=>r.type=="slider"&&h(r.name,v)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))]))),128))]))}};const Wa={class:"render-container"},qa={class:"tab-header"},Ja={class:"tab-title"},Xa={class:"tab-title-text"},Ya={class:"collapse-container"},Za={__name:"index",props:["closeDrawer"],setup(e){const o=n([1]),c=n({title:p(()=>_.global.t("render")),icon:"render"});return(u,m)=>{const g=R("el-collapse-item"),h=R("el-collapse"),y=R("el-scrollbar");return a(),d("div",Wa,[t("div",{class:"header-container",onClick:m[0]||(m[0]=(...l)=>e.closeDrawer&&e.closeDrawer(...l))},[t("div",qa,[t("div",Ja,[t("span",{class:I(["iconfont tab-icon","icon-"+c.value.icon])},null,2),t("span",Xa,D(c.value.title),1)])])]),t("div",Ya,[b(y,{class:"mesh-scrollbar",height:"100%"},{default:C(()=>[b(h,{modelValue:o.value,"onUpdate:modelValue":m[1]||(m[1]=l=>o.value=l),accordion:""},{default:C(()=>[b(g,{title:"Setting",name:1},{default:C(()=>[b(Va)]),_:1}),b(g,{title:"Denoise",name:2},{default:C(()=>[b(ja)]),_:1}),b(g,{title:"Camera",name:3},{default:C(()=>[b(Ua)]),_:1}),b(g,{title:"PostProcessing",name:4},{default:C(()=>[b(Ha)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])}}},Qa=ee(Za,[["__scopeId","data-v-c3b9ee39"]]);const es=e=>(ye("data-v-8bc573a2"),e=e(),Ee(),e),ts={class:"material-library-list"},ns={class:"list-container"},os={class:"material-group-title"},as={class:"material-library-list"},ss={class:"item-image-container"},ls=["draggable","onDragstart"],is=["onClick"],rs={class:"file-size"},cs=es(()=>t("div",{class:"iconfont icon-download item-download-icon"},null,-1)),us={class:"item-title"},ds={__name:"index",setup(e){const o=new Xe().setResponseType("blob"),c=n([{title:"Floor / Wood / Marble / Stone",list:Et},{title:"Metal",list:Ct},{title:"Fabric / Leather / Pattern",list:wt}]),u=n([...wt,...Et,...Ct]);function m(){u.value.forEach(l=>{const s=l.texturesURL,r=Object.keys(s);localforage.getItem(`material-${l.type}-${l.name}-${r[0]}`).then(i=>{i&&(l.downloaded=!0)})})}m();function g(l){if(l.isDownloading)return;l.isDownloading=!0;const s=l.texturesURL,r=Object.keys(s),i=r.length;let v=0;r.map(f=>{const w=s[f];o.load(w,E=>{localforage.setItem(`material-${l.type}-${l.name}-${f}`,E).then(k=>{v++,l.progress=Math.round(v/i*100),v==i&&(l.downloaded=!0,l.isDownloading=!1)})})})}function h(l,s){if(!l.downloaded)return;window.isLibraryDrag=!0;const r=l.texturesURL,i=Object.keys(r),v=[];i.map(w=>{v.push(`material-${l.type}-${l.name}-${w}`)});const f=JSON.stringify({type:"material",itemType:l.type,cacheKey:JSON.stringify(v),textureKey:JSON.stringify(i)});s.dataTransfer.setData("transData",f)}function y(){window.isLibraryDrag=!1}return(l,s)=>{const r=R("el-progress");return a(),d("div",ts,[(a(!0),d(A,null,V(c.value,(i,v)=>(a(),d("div",ns,[t("div",os,D(i.title),1),t("div",as,[(a(!0),d(A,null,V(i.list,(f,w)=>(a(),d("div",{key:w,class:I(["list-item-container",f.downloaded?"downloaded":"no-downloaded"])},[t("div",ss,[t("div",{class:"item-image",draggable:f.downloaded,onDragstart:E=>h(f,E),onDragend:y,style:He({"background-image":`url(${f.previewURL})`})},null,44,ls),f.downloaded?W("",!0):(a(),d("div",{key:0,class:"download-mask-container",onClick:E=>g(f)},[K(b(r,{color:"#409eff",class:"download-progress",type:"circle",width:50,percentage:f.progress},null,8,["percentage"]),[[j,f.progress!=0]]),t("span",rs,D(f.fileSize),1),cs],8,is))]),t("div",us,D(f.name),1)],2))),128))])]))),256))])}}},ps=ee(ds,[["__scopeId","data-v-8bc573a2"]]);const ms=e=>(ye("data-v-1c82fa1e"),e=e(),Ee(),e),vs={class:"envmap-library-list"},_s={class:"item-image-container"},gs=["draggable","onDragstart"],fs=["onClick"],hs={class:"file-size"},bs=ms(()=>t("span",{class:"iconfont icon-download item-download-icon"},null,-1)),ys={class:"item-title"},Es={__name:"index",setup(e){const o=new Xe().setResponseType("blob"),c=n(Pt);function u(){c.value.forEach(l=>{localforage.getItem(`envMap-${l.type}-${l.name}`).then(s=>{s&&(l.downloaded=!0)})})}u();function m(l){l.isDownloading||(l.isDownloading=!0,o.load(l.sourceURL,s=>{localforage.setItem(`envMap-${l.type}-${l.name}`,s).then(r=>{l.downloaded=!0,l.isDownloading=!1})},s=>{const r=Math.round(s.loaded/s.total*100);l.progress=r}))}function g(l,s){if(!l.downloaded)return;window.isLibraryDrag=!0;const r=JSON.stringify({type:"envMap",itemType:l.type,cacheKey:`envMap-${l.type}-${l.name}`});s.dataTransfer.setData("transData",r)}function h(){window.isLibraryDrag=!1}function y(){u()}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,y)}),(l,s)=>{const r=R("el-progress");return a(),d("div",vs,[(a(!0),d(A,null,V(c.value,(i,v)=>(a(),d("div",{key:v,class:I(["list-item-container",i.downloaded?"downloaded":"no-downloaded"])},[t("div",_s,[t("div",{class:"item-image",draggable:i.downloaded,onDragstart:f=>g(i,f),onDragend:h,style:He({"background-image":`url(${i.previewURL})`})},null,44,gs),i.downloaded?W("",!0):(a(),d("div",{key:0,class:"download-mask-container",onClick:f=>m(i)},[K(b(r,{color:"#409eff",class:"download-progress",type:"circle",width:50,percentage:i.progress},null,8,["percentage"]),[[j,i.progress!=0]]),t("span",hs,D(i.fileSize),1),bs],8,fs))]),t("div",ys,D(i.name),1)],2))),128))])}}},Tt=ee(Es,[["__scopeId","data-v-1c82fa1e"]]);const Cs=e=>(ye("data-v-d20460f5"),e=e(),Ee(),e),ws={class:"model-library-container"},Ls={class:"list-container"},xs={class:"model-group-title"},ks={class:"model-library-list"},$s={class:"item-image-container"},Ts=["draggable","onDragstart"],Ds=["onClick"],Ss={class:"file-size"},Ms=Cs(()=>t("div",{class:"iconfont icon-download item-download-icon"},null,-1)),Rs={class:"item-title"},Is={__name:"index",setup(e){const o=new Xe().setResponseType("blob"),c=n([{title:"Classic",list:at},{title:"Basic",list:Lt},{title:"Sketchfab",list:xt},{title:"Detail",list:kt}]),u=n([...at,...xt,...Lt,...kt]);function m(){u.value.forEach(s=>{localforage.getItem(`model-${s.type}-${s.name}`).then(r=>{r&&(s.downloaded=!0)})})}m();async function g(s){if(s.isDownloading)return;const r=`model-${s.type}-${s.name}`;if(await localforage.getItem(r)){s.downloaded=!0;return}else{s.isDownloading=!0;const v=await o.loadAsync(s.sourceURL,f=>{const w=Math.round(f.loaded/f.total*100);s.progress=w});await localforage.setItem(`model-${s.type}-${s.name}`,v),s.downloaded=!0,s.isDownloading=!1}}function h(s,r){if(!s.downloaded)return;window.isLibraryDrag=!0;const i=JSON.stringify({type:"model",itemType:s.type,cacheKey:`model-${s.type}-${s.name}`});r.dataTransfer.setData("transData",i)}function y(){window.isLibraryDrag=!1}function l(){m()}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,l)}),(s,r)=>{const i=R("el-progress");return a(),d("div",ws,[(a(!0),d(A,null,V(c.value,(v,f)=>(a(),d("div",Ls,[t("div",xs,D(v.title),1),t("div",ks,[(a(!0),d(A,null,V(v.list,(w,E)=>(a(),d("div",{key:E,class:I(["list-item-container",w.downloaded?"downloaded":"no-downloaded"])},[t("div",$s,[t("div",{class:"item-image",draggable:w.downloaded,onDragstart:k=>h(w,k),onDragend:y,style:He({"background-image":`url(${w.previewURL})`})},null,44,Ts),w.downloaded?W("",!0):(a(),d("div",{key:0,class:"download-mask-container",onClick:k=>g(w)},[K(b(i,{color:"#409eff",class:"download-progress",type:"circle",width:50,percentage:w.progress},null,8,["percentage"]),[[j,w.progress!=0]]),t("span",Ss,D(w.fileSize),1),Ms],8,Ds))]),t("div",Rs,D(w.name),1)],2))),128))])]))),256))])}}},Dt=ee(Is,[["__scopeId","data-v-d20460f5"]]);const Nt=e=>(ye("data-v-9868fdae"),e=e(),Ee(),e),Os={class:"library-container"},As={class:"tab-header"},Vs={class:"tab-title"},Ps={class:"tab-title-text"},Bs={class:"library-tabs-container"},Us={class:"library-tabs-header"},Ns=["onClick"],Fs={class:"library-tabs-content-container"},Gs={class:"tips"},Hs=Nt(()=>t("span",{class:"tips-text"},[ie("Download then "),t("b",null,"Drag"),ie(" to scene")],-1)),zs=Nt(()=>t("a",{href:"/credit/index.html",target:"_blank"},[t("span",{class:"credit-text"},"(Credit List)")],-1)),Ks={__name:"index",props:["closeDrawer"],setup(e){const o=new kn,c=LGL_BACKEND=="webgpu";let u=!1;const m=n({title:p(()=>_.global.t("library")),icon:"library"}),g=n(c?[{name:"Model",component:pe(Dt)},{name:"EnvMap",component:pe(Tt)},{name:"Material",component:pe(ps)}]:[{name:"Model",component:pe(Dt)},{name:"EnvMap",component:pe(Tt)}]),h=n("Model");function y(r){h.value!=r&&(h.value=r)}function l(){const r=editor.tracer.canvas;r.addEventListener("dragenter",i=>{i.preventDefault()}),r.addEventListener("dragover",i=>{i.preventDefault()}),r.addEventListener("drop",i=>{if(!window.isLibraryDrag)return;let v=i.dataTransfer.getData("transData");if(!v){ze({message:"Failed to read drag object data. Please try again from library",center:!0,type:"warning",showClose:!0,duration:3e3});return}if(u){ze({message:"Processing the previous model, please wait",center:!0,type:"warning",showClose:!0,duration:3e3});return}u=!0,v=JSON.parse(v);const{type:f,cacheKey:w,itemType:E}=v;if(f=="model"||f=="envMap")localforage.getItem(w).then(k=>{let L=LGL_URLCacheMap.get(w);switch(L||(L=URL.createObjectURL(k),LGL_URLCacheMap.set(w,L)),f){case"model":editor.sceneListener.loadGLTFModel(L).then(()=>{u=!1});break;case"envMap":editor.sceneListener.loadEnvMap(L).then(()=>{u=!1});break}});else if(f=="material"){const k=JSON.parse(w),L=[],O=JSON.parse(v.textureKey);k.forEach((T,q)=>{localforage.getItem(T).then(H=>{let M=LGL_URLCacheMap.get(T);M||(M=URL.createObjectURL(H),LGL_URLCacheMap.set(w,M)),L.push(new Promise(X=>{o.load(M,X)})),q==k.length-1&&s(i,E,L,O)})})}})}function s(r,i,v,f){const w=new $n;switch(w.roughness=1,i){case"floor":w.metalness=0;break;case"metal":w.metalness=1;break}return Promise.all(v).then(E=>{E.forEach((L,O)=>{const T=f[O];w[T]=L}),r.clientX,r.clientY;const k=editor.pickMesh(r);editor.sceneListener.updateMeshMaterial(k,w),u=!1})}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,l)}),(r,i)=>{const v=R("el-scrollbar"),f=R("el-alert");return a(),d("div",Os,[t("div",{class:"header-container",onClick:i[0]||(i[0]=(...w)=>e.closeDrawer&&e.closeDrawer(...w))},[t("div",As,[t("div",Vs,[t("span",{class:I(["iconfont tab-icon","icon-"+m.value.icon])},null,2),t("span",Ps,D(m.value.title),1)])])]),t("div",Bs,[t("div",Us,[(a(!0),d(A,null,V(g.value,w=>(a(),d("div",{key:w.name,class:I(["library-tab-box",{"is-active":w.name==h.value}]),onClick:E=>y(w.name)},[t("span",null,D(w.name),1)],10,Ns))),128))]),t("div",Fs,[b(v,{class:"library-scrollbar",height:"100%"},{default:C(()=>[(a(!0),d(A,null,V(g.value,(w,E)=>K((a(),d("div",{key:w.name,class:"library-tab-content"},[(a(),G(te(w.component)))],512)),[[j,w.name==h.value]])),128))]),_:1})])]),t("div",Gs,[b(f,{type:"info","show-icon":""},{title:C(()=>[Hs,zs]),_:1})])])}}},js=ee(Ks,[["__scopeId","data-v-9868fdae"]]);const Ws={class:"tabs-container"},qs=["onClick"],Js={class:"panel-container"},Xs={__name:"index",setup(e){const o=n(!0),c=n("Property"),u=n([{name:"Property",icon:"title-setting",component:pe($a)},{name:"Render",icon:"title-render",component:pe(Qa)},{name:"Library",icon:"title-render",component:pe(js)}]);function m(){}function g(){o.value=!1}function h(l){c.value==l?o.value=!o.value:(o.value||(o.value=!0),c.value=l)}function y(l){if(l.name=="toggleMenu"){const s=l.targetStatus;o.value=s}}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,m),Editor.on(Editor.events.SHORTCUT_COMMAND_UP,y)}),(l,s)=>(a(),d("div",{class:I(["right-drawer",{open:o.value}])},[t("div",Ws,[(a(!0),d(A,null,V(u.value,r=>(a(),d("div",{key:r.name,class:I(["tab-box",{"is-active":r.name==c.value}]),onClick:i=>h(r.name)},[t("span",null,D(r.name),1)],10,qs))),128))]),t("div",Js,[(a(!0),d(A,null,V(u.value,(r,i)=>K((a(),d("div",{key:r.name,class:"tab-content-container"},[(a(),G(te(r.component),{closeDrawer:g}))],512)),[[j,r.name==c.value]])),128))])],2))}},Ys=ee(Xs,[["__scopeId","data-v-26b7e5bd"]]);const Zs={class:"tree-container"},Qs={class:"tree-header"},el={class:"tab-title"},tl={class:"tree-operation"},nl=["onClick"],ol={class:"tree-filter"},al={class:"tree-body"},sl={class:"custom-tree-node"},ll={class:"node-text"},il={class:"node-operation"},rl=["onClick"],et="custom-tree-node-enter",cl={__name:"index",props:["closeDrawer"],setup(e){const o=LGL_BACKEND=="webgl",c=n([]),u=n(""),m=n(),g=n(!0),h=n({title:p(()=>_.global.t("outliner")),icon:"outliner"}),y=[{icon:"add",event:"addGroup",toolTipText:"add group"},{icon:"fold",event:"unexpandTree",toolTipText:"fold all"},{icon:"unfold",event:"expandTree",toolTipText:"unfold all"}],l=n([{icon:"copy",event:"copy"},{icon:"visible",back_icon:"invisible",event:"visible"},{icon:"delete",event:"delete"}]);ot(u,S=>{m.value&&m.value.filter(S)});const s=(S,$)=>S?$.name?$.name.toLowerCase().indexOf(S.toLowerCase())!==-1:!1:!0,r=n([]);function i(S){r.value.includes(S.uuid)||r.value.push(S.uuid)}function v(S){const $=r.value.indexOf(S.uuid);$>-1&&r.value.splice($,1)}function f(S){switch(S){case"addGroup":Y();break;case"expandTree":k(!0);break;case"unexpandTree":k(!1);break}}function w(S,$){if(S.isObject3D){const N=ft(S);editor.select(N)}}function E(S,$){const N=ft(S);switch($.event){case"copy":editor.sceneListener.copyTHREEObject(N);break;case"visible":editor.sceneListener.toggleTHREEObjectVisible(N,!N.visible);break;case"delete":editor.sceneListener.deleteTHREEObject(N);break}}function k(S){g.value=!1,S?c.value.forEach($=>{$.traverse(N=>{N.children&&i(N)})}):r.value=[],Pe(()=>{g.value=!0})}function L(){return editor.scene.children.filter(S=>S.name!="LGL_TRANSFORM_PIVOT")}function O(){c.value=L(),c.value[0].traverse(S=>{S.children&&r.value.push(S.uuid)})}function T(){var S;if(c.value=[...L()],o)r.value=[],c.value[0].traverse($=>{$.children&&r.value.push($.uuid)});else{const $=(S=editor.transformControlsListener.curPickedTHREEObject)==null?void 0:S.uuid;setTimeout(()=>{m.value.setCurrentKey($)},0)}}function q(S){T()}function H(S){T()}function M(S){if(!S){m.value.setCurrentKey(null);return}const $=S.uuid;m.value.setCurrentKey($)}let X=null;function ne(S,$,N){const oe=N.target;oe&&(X&&X.classList.remove(et),X=oe,X.classList.add(et))}function ge(){X&&X.classList.remove(et)}let le=null;function P(S,$){le=S.data.parent.children.indexOf(S.data)}function se(S,$,N,oe){const ce=S.data,he=$.data,ae=N;editor.sceneListener.moveObjectToNewParent(ce,le,he,ae),i(he)}function Y(){bo.prompt("Enter the name of the new group","",{confirmButtonText:"OK",cancelButtonText:"Cancel",showClose:!1,closeOnClickModal:!1,inputValue:"New Group"}).then(({value:S})=>{editor.sceneListener.addEmptyGroup(S)}).catch(()=>{})}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,O),Editor.on(Editor.events.OBJECT_SELECTED,M),Editor.on(Editor.events.OBJECT_ADD,q),Editor.on(Editor.events.OBJECT_COPY,q),Editor.on(Editor.events.OBJECT_VISIBLE,T),Editor.on(Editor.events.OBJECT_REMOVE,H)}),(S,$)=>{const N=R("el-tooltip"),oe=R("el-input"),ce=R("el-tree"),he=R("el-scrollbar");return a(),d("div",Zs,[t("div",Qs,[t("div",el,[t("span",{class:I(["iconfont tab-icon","icon-"+h.value.icon]),onClick:$[0]||($[0]=(...ae)=>e.closeDrawer&&e.closeDrawer(...ae))},null,2),t("span",{class:"tab-title-text",onClick:$[1]||($[1]=(...ae)=>e.closeDrawer&&e.closeDrawer(...ae))},D(h.value.title),1),t("div",tl,[(a(),d(A,null,V(y,(ae,ve)=>b(N,{key:ve,effect:"light",content:ae.toolTipText,placement:"top",offset:10},{default:C(()=>[t("span",{class:I(["iconfont tree-operation-icon","icon-"+ae.icon]),onClick:ue=>f(ae.event)},null,10,nl)]),_:2},1032,["content"])),64))])])]),t("div",ol,[b(oe,{modelValue:u.value,"onUpdate:modelValue":$[2]||($[2]=ae=>u.value=ae),placeholder:"Filter keyword"},null,8,["modelValue"])]),t("div",al,[b(he,{height:"100%"},{default:C(()=>[g.value?(a(),G(ce,{key:0,ref_key:"treeRef",ref:m,data:c.value,"node-key":"uuid","auto-expand-parent":!1,"expand-on-click-node":!1,"highlight-current":"","filter-node-method":s,props:{label:"name"},indent:6,onNodeClick:w,"empty-text":"No Data",draggable:"",onNodeDrop:se,onNodeDragStart:P,"default-expand-all":!1,onNodeExpand:i,onNodeCollapse:v,onNodeDragEnter:ne,onNodeDragEnd:ge,"default-expanded-keys":r.value},{default:C(({node:ae,data:ve})=>[t("span",sl,[t("span",ll,D(ae.label),1),t("div",il,[(a(!0),d(A,null,V(l.value,(ue,Re)=>(a(),d(A,{key:Re},[o&&(ue.event=="copy"||ue.event=="delete"||!ve.isMesh)?W("",!0):(a(),d("span",{key:0,class:I(["iconfont node-operation-icon","icon-"+(ue.event!=="visible"||ve.visible?ue.icon:ue.back_icon)]),onClick:xe(Ie=>E(ve,ue),["stop"])},null,10,rl))],64))),128))])])]),_:1},8,["data","default-expanded-keys"])):W("",!0)]),_:1})])])}}},ul=ee(cl,[["__scopeId","data-v-f6872613"]]);const dl={class:"history-container"},pl={class:"tab-header"},ml={class:"tab-title"},vl={class:"tab-title-text"},_l={class:"timeline-container"},gl={class:"history-name"},fl={class:"history-target-name"},hl={__name:"index",props:["closeDrawer"],setup(e){const o=n({title:p(()=>_.global.t("history")),icon:"history"}),c=n([]),u=n(0);function m(){c.value=editor.commands.slice().reverse(),console.log("editor.commands",editor.commands),u.value=c.value.length;for(let g=0;g<c.value.length;g++)if(c.value[g].state===!0){u.value=g;break}}return Q(()=>{Editor.on(Editor.events.COMMAND_REDO,m),Editor.on(Editor.events.COMMAND_UNDO,m)}),(g,h)=>{const y=R("el-timeline-item"),l=R("el-timeline"),s=R("el-scrollbar"),r=R("el-empty");return a(),d("div",dl,[t("div",{class:"header-container",onClick:h[0]||(h[0]=(...i)=>e.closeDrawer&&e.closeDrawer(...i))},[t("div",pl,[t("div",ml,[t("span",{class:I(["iconfont tab-icon","icon-"+o.value.icon])},null,2),t("span",vl,D(o.value.title),1)])])]),K(t("div",_l,[b(s,{class:"mesh-scrollbar",height:"100%"},{default:C(()=>[b(l,null,{default:C(()=>[(a(!0),d(A,null,V(c.value,(i,v)=>(a(),G(y,{key:v,"hide-timestamp":"",type:"primary",hollow:"",class:I(u.value==v?"current-history-pos":"")},{default:C(()=>{var f;return[t("div",gl,D(i.name),1),t("div",fl,D((f=i==null?void 0:i.targetObject)!=null&&f.name?`target:
							${i.targetObject.name}`:""),1)]}),_:2},1032,["class"]))),128))]),_:1})]),_:1})],512),[[j,c.value.length]]),K(b(r,{description:"No history command"},null,512),[[j,!c.value.length]])])}}},bl=ee(hl,[["__scopeId","data-v-c359ee78"]]);const yl={class:"tabs-container"},El=["onClick"],Cl={class:"panel-container"},wl={__name:"index",setup(e){const o=n(!0),c=n("Outliner"),u=n([{name:"History",icon:"title-layer",component:pe(bl)},{name:"Outliner",icon:"title-layer",component:pe(ul)}]);function m(){}function g(){o.value=!1}function h(l){c.value==l?o.value=!o.value:(o.value||(o.value=!0),c.value=l)}function y(l){if(l.name=="toggleMenu"){const s=l.targetStatus;o.value=s}}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,m),Editor.on(Editor.events.SHORTCUT_COMMAND_UP,y)}),(l,s)=>(a(),d("div",{class:I(["left-drawer",{open:o.value}])},[t("div",yl,[(a(!0),d(A,null,V(u.value,r=>(a(),d("div",{key:r.name,class:I(["tab-box",{"is-active":r.name==c.value}]),onClick:i=>h(r.name)},[t("span",null,D(r.name),1)],10,El))),128))]),t("div",Cl,[(a(!0),d(A,null,V(u.value,(r,i)=>K((a(),d("div",{key:r.name,class:"tab-content-container"},[(a(),G(te(r.component),{closeDrawer:g}))],512)),[[j,r.name==c.value]])),128))])],2))}},Ll=ee(wl,[["__scopeId","data-v-f6850c83"]]);const Ce=e=>(ye("data-v-3abbe0ed"),e=e(),Ee(),e),xl={class:"bottom-right-menu-container"},kl={class:"sponsor-content-container"},$l=Ce(()=>t("div",{class:"sponsor-title-text"},[t("p",null,"LGLTracer is my personal project."),t("p",null,"I have always been pursuing better rendering effects on the Web."),t("p",{class:"sponsor-split"}),t("p",null,"If my project/tool is helpful to you"),t("p",null,"please sponsor me to encourage me to continue development , thanks!")],-1)),Tl={class:"sponsor-button-container"},Dl={class:"wechat-pay"},Sl=Ce(()=>t("span",{class:"iconfont icon-wechat sponsor-icon"},null,-1)),Ml=Ce(()=>t("span",{class:"split-line"},"/",-1)),Rl={class:"alipay-pay"},Il=Ce(()=>t("span",{class:"iconfont icon-alipay sponsor-icon"},null,-1)),Ol={href:"https://www.patreon.com/LGLTracer",target:"_blank"},Al={class:"sponsor-button-container"},Vl=Ce(()=>t("span",{class:"iconfont icon-patreon sponsor-icon"},null,-1)),Pl=Ce(()=>t("span",null,"Patreon",-1)),Bl={href:"https://ko-fi.com/lgltracer",target:"_blank"},Ul={class:"sponsor-button-container"},Nl=Ce(()=>t("span",{class:"iconfont icon-kofi sponsor-icon"},null,-1)),Fl=Ce(()=>t("span",null,"Donate",-1)),Gl={class:"qrcode-container"},Hl={class:"qrcode-tabs-header"},zl=["onClick"],Kl={class:"qrcode-tabs-content-container"},jl=["src"],Wl=Ce(()=>t("div",{class:"sponsor-tips"},"",-1)),ql={class:"menu-content"},Jl={class:"tile-fps-count"},Xl={class:"item-text cur-tile-text"},Yl={class:"item-text cur-fps-text"},Zl={__name:"index",setup(e){const o=n(!0),c=n(0),u=n(0);function m(){o.value=!o.value}const g=n(!1),h=n(0),y=n("wechat"),l=n([{name:"wechat",qrCodeURL:"/images/wechat.jpg"},{name:"alipay",qrCodeURL:"/images/alipay.jpg"}]);function s(){h.value=1}function r(w){y.value!=w&&(y.value=w)}function i(){h.value=0}function v(w){const{fps:E}=w;c.value=editor.tracer.tileNumber,u.value=E}function f(){c.value=editor.tracer.tileNumber}return Q(()=>{Editor.on(Editor.events.COMMAND_TILE_FPS,v),Editor.on(Editor.events.EDITOR_LOADED,f)}),(w,E)=>{const k=R("el-button"),L=R("el-dialog");return a(),d("div",xl,[t("div",{class:"sponsor-text",onClick:E[0]||(E[0]=O=>g.value=!0)},"Sponsor"),b(L,{modelValue:g.value,"onUpdate:modelValue":E[1]||(E[1]=O=>g.value=O),width:320,"show-close":"","close-on-click-modal":!1,onClosed:i},{footer:C(()=>[]),default:C(()=>[K(t("div",kl,[$l,t("div",Tl,[b(k,{color:"#2680c7",onClick:s,class:"sponsor-button"},{default:C(()=>[t("span",Dl,[Sl,t("span",null,D(w.$t("wechat")),1)]),Ml,t("span",Rl,[Il,t("span",null,D(w.$t("alipay")),1)])]),_:1})]),t("a",Ol,[t("div",Al,[b(k,{color:"#333333",class:"sponsor-button"},{default:C(()=>[Vl,Pl]),_:1})])]),t("a",Bl,[t("div",Ul,[b(k,{color:"#ec5050",class:"sponsor-button"},{default:C(()=>[Nl,Fl]),_:1})])])],512),[[j,h.value==0]]),K(t("div",Gl,[t("div",Hl,[(a(!0),d(A,null,V(l.value,O=>(a(),d("div",{key:O.name,class:I(["qrcode-tab-box",{"is-active":O.name==y.value}]),onClick:T=>r(O.name)},[t("span",null,D(w.$t(O.name)),1)],10,zl))),128))]),t("div",Kl,[(a(!0),d(A,null,V(l.value,(O,T)=>K((a(),d("div",{key:O.name,class:"qrcode-tab-content"},[t("img",{class:"qrcode-image",src:O.qrCodeURL,alt:"",draggable:!1},null,8,jl)],512)),[[j,O.name==y.value]])),128)),Wl])],512),[[j,h.value==1]]),K(t("div",{onClick:i,class:"back-button iconfont icon-return"},null,512),[[j,h.value==1]])]),_:1},8,["modelValue"]),t("div",{class:I(["tile-fps-container",{"is-open":o.value}])},[t("div",{class:"menu-toggle",onClick:E[2]||(E[2]=O=>m())}),t("ul",ql,[t("li",Jl,[t("span",Xl,D(c.value)+" Tiles",1),t("span",Yl,D(u.value)+" FPS",1)])])],2)])}}},Ql=ee(Zl,[["__scopeId","data-v-3abbe0ed"]]);const ei={class:"info-container"},ti={class:"title"},ni={class:"text"},oi={__name:"index",setup(e){const o=LGL_BACKEND=="webgpu"?"WebGPU":"WebGL",c=n(""),u=n(""),m=n(""),g=n([{title:"Graphics API",value:o},{title:"Browser",value:c},{title:"OS",value:u},{title:"GPU",value:m},{title:"LGLTracer Version",value:Tn},{title:"Editor Version",value:Dn}]);return je(()=>{const{browser:h,os:y,graphicsCard:l}=Sn();c.value=h,u.value=y,l&&(m.value=l.renderer)}),(h,y)=>(a(),d("div",ei,[(a(!0),d(A,null,V(g.value,l=>(a(),d("div",{class:"info-row",key:l.title},[t("div",ti,D(l.title)+": ",1),t("div",ni,D(l.value),1)]))),128))]))}},ai=ee(oi,[["__scopeId","data-v-670f28cb"]]);const si={class:"info-container"},li={__name:"index",setup(e){const o=LGL_BACKEND=="webgpu",c=[{operation:"Undo",keyCode:"Ctrl/Cmd + Z"},{operation:"Redo",keyCode:"Ctrl/Cmd + Shift + Z"},{operation:"Translate Mode(Controls)",keyCode:"G"},{operation:"Rotate Mode(Controls)",keyCode:"R"},{operation:"Scale Mode(Controls)",keyCode:"S"},{operation:"Hide Select",keyCode:"H"},{operation:"Show Select",keyCode:"Alt + H"},{operation:"Switch Camera Projection",keyCode:"P , 0"},{operation:"View(Front/Right/Top)",keyCode:"1 / 2 / 3"},{operation:"View(Back/Left/Bottom)",keyCode:"4 / 5 / 6"},{operation:"Play/Pause Rendering",keyCode:"Space"},{operation:"Refocus current scene",keyCode:"F"},{operation:"Toggle left/right panel",keyCode:"T"}],u=[{operation:"Delete Select",keyCode:"X , Delete"},{operation:"Clone Select",keyCode:"Ctrl/Cmd + V , Shift + D"}];return o&&c.push(...u),(m,g)=>{const h=R("el-table-column"),y=R("el-table");return a(),d("div",si,[b(y,{data:c,stripe:"",style:{width:"100%"}},{default:C(()=>[b(h,{prop:"operation",label:"Operation"}),b(h,{prop:"keyCode",label:"KeyCode"})]),_:1})])}}},ii=ee(li,[["__scopeId","data-v-910e657c"]]);const ri=e=>(ye("data-v-0656590b"),e=e(),Ee(),e),ci={class:"bottom-left-menu-container"},ui={class:"button-container"},di={class:"helper-container"},pi={class:"helper-tabs-header"},mi=["onClick"],vi={class:"helper-tabs-content-container"},_i=ri(()=>t("div",{class:"contact-footer"},[ie("Any questions? Contact me :D "),t("a",{href:"// Todo",target:"_blank"},[t("span",{class:"contact-icon iconfont icon-discord"})]),t("a",{href:"mailto:lg2lugang@gmail.com",target:"_blank"},[t("span",{class:"contact-icon iconfont icon-email"})]),t("a",{href:"https://twitter.com/WebAMV",target:"_blank"},[t("span",{class:"contact-icon iconfont icon-twiter"})])],-1)),gi={__name:"index",setup(e){const o=n(!1),c=n("info"),u=n([{name:"info",component:pe(ai)},{name:"shortcut",component:pe(ii)}]);function m(y){c.value!=y&&(c.value=y)}function g(){editor.renderListener.getScreenshot()}function h(){editor.renderListener.autoFitCameraByModel()}return(y,l)=>{const s=R("el-tooltip"),r=R("el-dialog");return a(),d("div",ci,[t("div",ui,[t("div",{class:"button helper-button iconfont icon-help",onClick:l[0]||(l[0]=i=>o.value=!0)}),b(s,{effect:"light",content:"screenshot",placement:"top",offset:10},{default:C(()=>[t("div",{onClick:g,class:"button camera-button iconfont icon-camera"})]),_:1}),b(r,{modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=i=>o.value=i),width:380,"show-close":"","close-on-click-modal":!1},{footer:C(()=>[_i]),default:C(()=>[t("div",di,[t("div",pi,[(a(!0),d(A,null,V(u.value,i=>(a(),d("div",{key:i.name,class:I(["helper-tab-box",{"is-active":i.name==c.value}]),onClick:v=>m(i.name)},[t("span",null,D(y.$t(i.name)),1)],10,mi))),128))]),t("div",vi,[(a(!0),d(A,null,V(u.value,(i,v)=>K((a(),d("div",{key:i.name,class:"helper-tab-content"},[(a(),G(te(i.component)))],512)),[[j,i.name==c.value]])),128))])])]),_:1},8,["modelValue"]),b(s,{effect:"light",content:"refocus(F)",placement:"top",offset:10},{default:C(()=>[t("div",{onClick:h,class:"button camera-button iconfont icon-focus"})]),_:1})])])}}},fi=ee(gi,[["__scopeId","data-v-0656590b"]]),hi={class:"scene-container"},bi={__name:"App",setup(e){return je(()=>{}),(o,c)=>(a(),d("div",hi,[b(Eo),b(Wo),b(ta),b(Ll),b(Ys),b(fi),b(Ql),b($o)]))}},B=cn(bi);B.use(_);B.component("ElTree",Mn);B.component("ElInput",Vt);B.component("ElTabs",Rn);B.component("ElTabPane",In);B.component("ElScrollbar",un);B.component("ElTooltip",dn);B.component("ElForm",On);B.component("ElFormItem",An);B.component("ElCollapse",Vn);B.component("ElCollapseItem",Pn);B.component("ElSlider",Bn);B.component("ElSelect",Un);B.component("ElOption",Nn);B.component("ElSwitch",Fn);B.component("ElMenu",Gn);B.component("ElMenuItem",Hn);B.component("ElSubMenu",zn);B.component("ElEmpty",Kn);B.component("ElDialog",jn);B.component("ElButton",At);B.component("ElTimeline",Wn);B.component("ElTimelineItem",qn);B.component("ElProgress",Jn);B.component("ElTable",pn);B.component("ElTableColumn",mn);B.component("ElAlert",Xn);B.component("InputNumber",Yn);B.component("InputGroup",Zn);B.component("ColorPicker",Qn);B.component("Slider",eo);B.component("Select",to);!navigator.gpu||!navigator.gpu.getPreferredCanvasFormat?(window.LGL_BACKEND="webgl",document.body.classList.add("webgl")):window.LGL_BACKEND="webgpu";window.LGL_BACKEND=="webgl"&&no({title:"Warning",message:`Your device/browser does not support WebGPU!
			It has fallen back to the WebGL version,
			many functions/features will be limited!`,type:"warning",duration:0});window.Editor=Bt;const Se=new Bt(window.LGL_BACKEND);window.editor=Se;window.localforage=st;const it=new Map;window.LGL_URLCacheMap=it;const yi=new Xe().setResponseType("blob"),Ei=console.error,Ci=console.warn;console.error=function(...o){const c=o[0];ze({message:c,center:!0,type:"error",showClose:!0,duration:5e3}),Ei.apply(console,o)};console.warn=function(...o){const c=o[0];ze({message:c,center:!0,type:"warning",showClose:!0,duration:3500}),Ci.apply(console,o)};function Ft(){const e=window.innerWidth,o=window.innerHeight;Se.setSize(e,o)}window.addEventListener("resize",oo(Ft,100));const tt=at[0],nt=Pt[0];async function St(e,o){const c=await st.getItem(e);if(c){let u=it.get(e);return u||(u=URL.createObjectURL(c)),u}else{const u=await yi.loadAsync(o);await st.setItem(e,u);const m=URL.createObjectURL(u);return it.set(e,m),m}}const wi=document.querySelector(".entry-loading .progress-text"),Li=document.querySelector(".entry-loading .progress-line");function xi(e){const o=Math.round(e*100);wi.textContent=`${o}%`,Li.style.width=`${o}%`}const ki=document.querySelector(".building-text-container .building-text"),Gt=document.querySelector(".building-text-container");function $i(){Gt.classList.add("building")}function Ti(e){const o=Math.round(e*100);ki.textContent=`Building(${o}%)`}function Di(){Gt.classList.remove("building")}async function Si(){const e=await St(`model-${tt.type}-${tt.name}`,tt.sourceURL),o=await St(`envMap-${nt.type}-${nt.name}`,nt.sourceURL);await Se.loadData(e,o,xi),document.body.classList.remove("loading"),Se.tracer.onBuildingBeginCallback=$i,Se.tracer.onBuildingProgressCallback=Ti,Se.tracer.onBuildingEndCallback=Di,Ft(),Se.play()}B.mount("#app");Si();
