import{h as Pe,i as Zt,j as Qt,k as en,l as tn,m as nn,q as p,r as t,s as xe,u as mt,t as ot,v as je,x as Mt,y as ke,a as R,o as a,z as G,w,A as K,d as h,b as n,B as A,n as He,C as Le,c as d,D as te,F as W,G as D,H as Fe,I as on,J as re,K as j,T as an,L as sn,M as Rt,N as It,O as At,P as vt,Q as ln,R as rn,S as _t,U as gt,V as Q,_ as ee,p as ye,e as Ee,W as O,X as V,Y as ge,Z as me,$ as ft,f as cn,a0 as un,a1 as dn,E as pn,g as mn}from"./el-tag-2a796b49.js";import{o as ht,E as Ot,a as Vt,b as vn,T as _n,i as gn,u as fn,c as bt,d as hn,e as bn,f as yn,x as En,g as ze,h as v,M as Cn,V as yt,j as wn,k as Ge,Q as Ln,l as xn,r as Qe,F as Xe,m as Et,n as Ct,p as wt,q as Pt,C as at,B as Lt,S as xt,H as kt,s as kn,t as $n,L as Tn,v as Dn,w as Sn,y as Mn,z as Rn,A as In,D as An,G as On,I as Vn,J as Pn,K as Bn,N as Un,O as Nn,P as Fn,R as Gn,U as Hn,W as zn,X as Kn,Y as jn,Z as Wn,_ as qn,$ as Jn,a0 as Xn,a1 as Yn,a2 as Zn,a3 as Qn,a4 as eo,a5 as to,a6 as no,a7 as Bt,a8 as st,a9 as oo}from"./localforage-acab835a.js";const lt="_trap-focus-children",Se=[],$t=e=>{if(Se.length===0)return;const o=Se[Se.length-1][lt];if(o.length>0&&e.code===Zt.tab){if(o.length===1){e.preventDefault(),document.activeElement!==o[0]&&o[0].focus();return}const r=e.shiftKey,u=e.target===o[0],m=e.target===o[o.length-1];u&&r&&(e.preventDefault(),o[o.length-1].focus()),m&&!r&&(e.preventDefault(),o[0].focus())}},ao={beforeMount(e){e[lt]=ht(e),Se.push(e),Se.length<=1&&document.addEventListener("keydown",$t)},updated(e){Pe(()=>{e[lt]=ht(e)})},unmounted(){Se.shift(),Se.length===0&&document.removeEventListener("keydown",$t)}},so=en({name:"ElMessageBox",directives:{TrapFocus:ao},components:{ElButton:Ot,ElFocusTrap:tn,ElInput:Vt,ElOverlay:vn,ElIcon:nn,..._n},inheritAttrs:!1,props:{buttonSize:{type:String,validator:gn},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:o}){const{locale:r,zIndex:u,ns:m,size:g}=fn("message-box",p(()=>e.buttonSize)),{t:f}=r,{nextZIndex:y}=u,l=t(!1),s=xe({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:y()}),c=p(()=>{const k=s.type;return{[m.bm("icon",k)]:k&&bt[k]}}),i=mt(),_=mt(),b=p(()=>s.icon||bt[s.type]||""),C=p(()=>!!s.message),E=t(),I=t(),L=t(),$=t(),T=t(),q=p(()=>s.confirmButtonClass);ot(()=>s.inputValue,async k=>{await Pe(),e.boxType==="prompt"&&k!==null&&P()},{immediate:!0}),ot(()=>l.value,k=>{var N,ne;k&&(e.boxType!=="prompt"&&(s.autofocus?L.value=(ne=(N=T.value)==null?void 0:N.$el)!=null?ne:E.value:L.value=E.value),s.zIndex=y()),e.boxType==="prompt"&&(k?Pe().then(()=>{var ue;$.value&&$.value.$el&&(s.autofocus?L.value=(ue=se())!=null?ue:E.value:L.value=E.value)}):(s.editorErrorMessage="",s.validateError=!1))});const H=p(()=>e.draggable);hn(E,I,H),je(async()=>{await Pe(),e.closeOnHashChange&&window.addEventListener("hashchange",X)}),Mt(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",X)});function X(){l.value&&(l.value=!1,Pe(()=>{s.action&&o("action",s.action)}))}const M=()=>{e.closeOnClickModal&&ie(s.distinguishCancelAndClose?"close":"cancel")},le=yn(M),ae=k=>{if(s.inputType!=="textarea")return k.preventDefault(),ie("confirm")},ie=k=>{var N;e.boxType==="prompt"&&k==="confirm"&&!P()||(s.action=k,s.beforeClose?(N=s.beforeClose)==null||N.call(s,k,s,X):X())},P=()=>{if(e.boxType==="prompt"){const k=s.inputPattern;if(k&&!k.test(s.inputValue||""))return s.editorErrorMessage=s.inputErrorMessage||f("el.messagebox.error"),s.validateError=!0,!1;const N=s.inputValidator;if(typeof N=="function"){const ne=N(s.inputValue);if(ne===!1)return s.editorErrorMessage=s.inputErrorMessage||f("el.messagebox.error"),s.validateError=!0,!1;if(typeof ne=="string")return s.editorErrorMessage=ne,s.validateError=!0,!1}}return s.editorErrorMessage="",s.validateError=!1,!0},se=()=>{const k=$.value.$refs;return k.input||k.textarea},Y=()=>{ie("close")},S=()=>{e.closeOnPressEscape&&Y()};return e.lockScroll&&bn(l),{...ke(s),ns:m,overlayEvent:le,visible:l,hasMessage:C,typeClass:c,contentId:i,inputId:_,btnSize:g,iconComponent:b,confirmButtonClasses:q,rootRef:E,focusStartRef:L,headerRef:I,inputRef:$,confirmRef:T,doClose:X,handleClose:Y,onCloseRequested:S,handleWrapperClick:M,handleInputEnter:ae,handleAction:ie,t:f}}}),lo=["aria-label","aria-describedby"],io=["aria-label"],ro=["id"];function co(e,o,r,u,m,g){const f=R("el-icon"),y=R("close"),l=R("el-input"),s=R("el-button"),c=R("el-focus-trap"),i=R("el-overlay");return a(),G(an,{name:"fade-in-linear",onAfterLeave:o[11]||(o[11]=_=>e.$emit("vanish")),persisted:""},{default:w(()=>[K(h(i,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:w(()=>[n("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:A(`${e.ns.namespace.value}-overlay-message-box`),onClick:o[8]||(o[8]=(..._)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(..._)),onMousedown:o[9]||(o[9]=(..._)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(..._)),onMouseup:o[10]||(o[10]=(..._)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(..._))},[h(c,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:w(()=>[n("div",{ref:"rootRef",class:A([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:He(e.customStyle),tabindex:"-1",onClick:o[7]||(o[7]=Le(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(a(),d("div",{key:0,ref:"headerRef",class:A(e.ns.e("header"))},[n("div",{class:A(e.ns.e("title"))},[e.iconComponent&&e.center?(a(),G(f,{key:0,class:A([e.ns.e("status"),e.typeClass])},{default:w(()=>[(a(),G(te(e.iconComponent)))]),_:1},8,["class"])):W("v-if",!0),n("span",null,D(e.title),1)],2),e.showClose?(a(),d("button",{key:0,type:"button",class:A(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:o[0]||(o[0]=_=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:o[1]||(o[1]=Fe(Le(_=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[h(f,{class:A(e.ns.e("close"))},{default:w(()=>[h(y)]),_:1},8,["class"])],42,io)):W("v-if",!0)],2)):W("v-if",!0),n("div",{id:e.contentId,class:A(e.ns.e("content"))},[n("div",{class:A(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(a(),G(f,{key:0,class:A([e.ns.e("status"),e.typeClass])},{default:w(()=>[(a(),G(te(e.iconComponent)))]),_:1},8,["class"])):W("v-if",!0),e.hasMessage?(a(),d("div",{key:1,class:A(e.ns.e("message"))},[on(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(a(),G(te(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(a(),G(te(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:w(()=>[re(D(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):W("v-if",!0)],2),K(n("div",{class:A(e.ns.e("input"))},[h(l,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":o[2]||(o[2]=_=>e.inputValue=_),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:A({invalid:e.validateError}),onKeydown:Fe(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),n("div",{class:A(e.ns.e("errormsg")),style:He({visibility:e.editorErrorMessage?"visible":"hidden"})},D(e.editorErrorMessage),7)],2),[[j,e.showInput]])],10,ro),n("div",{class:A(e.ns.e("btns"))},[e.showCancelButton?(a(),G(s,{key:0,loading:e.cancelButtonLoading,class:A([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:o[3]||(o[3]=_=>e.handleAction("cancel")),onKeydown:o[4]||(o[4]=Fe(Le(_=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:w(()=>[re(D(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):W("v-if",!0),K(h(s,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:A([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:o[5]||(o[5]=_=>e.handleAction("confirm")),onKeydown:o[6]||(o[6]=Fe(Le(_=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:w(()=>[re(D(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[j,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,lo)]),_:3},8,["z-index","overlay-class","mask"]),[[j,e.visible]])]),_:3})}var uo=Qt(so,[["render",co],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const Ke=new Map,po=e=>{let o=document.body;return e.appendTo&&(Rt(e.appendTo)&&(o=document.querySelector(e.appendTo)),gt(e.appendTo)&&(o=e.appendTo),gt(o)||(o=document.body)),o},mo=(e,o,r=null)=>{const u=h(uo,e,_t(e.message)||It(e.message)?{default:_t(e.message)?e.message:()=>e.message}:null);return u.appContext=r,At(u,o),po(e).appendChild(o.firstElementChild),u.component},vo=()=>document.createElement("div"),_o=(e,o)=>{const r=vo();e.onVanish=()=>{At(null,r),Ke.delete(m)},e.onAction=g=>{const f=Ke.get(m);let y;e.showInput?y={value:m.inputValue,action:g}:y=g,e.callback?e.callback(y,u.proxy):g==="cancel"||g==="close"?e.distinguishCancelAndClose&&g!=="cancel"?f.reject("close"):f.reject("cancel"):f.resolve(y)};const u=mo(e,r,o),m=u.proxy;for(const g in e)vt(e,g)&&!vt(m.$props,g)&&(m[g]=e[g]);return m.visible=!0,m};function Be(e,o=null){if(!sn)return Promise.reject();let r;return Rt(e)||It(e)?e={message:e}:r=e.callback,new Promise((u,m)=>{const g=_o(e,o??Be._context);Ke.set(g,{options:e,callback:r,resolve:u,reject:m})})}const go=["alert","confirm","prompt"],fo={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};go.forEach(e=>{Be[e]=ho(e)});function ho(e){return(o,r,u,m)=>{let g="";return ln(r)?(u=r,g=""):rn(r)?g="":g=r,Be(Object.assign({title:g,message:o,type:"",...fo[e]},u,{boxType:e}),m)}}Be.close=()=>{Ke.forEach((e,o)=>{o.doClose()}),Ke.clear()};Be._context=null;const we=Be;we.install=e=>{we._context=e._context,e.config.globalProperties.$msgbox=we,e.config.globalProperties.$messageBox=we,e.config.globalProperties.$alert=we.alert,e.config.globalProperties.$confirm=we.confirm,e.config.globalProperties.$prompt=we.prompt};const bo=we;const yo={id:"scene"},Eo={__name:"index",setup(e){const o=t("");function r(){o.value.appendChild(editor.canvas)}return je(()=>{}),Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,r)}),Mt(()=>{Editor.off(Editor.events.EDITOR_LOADED,r)}),(u,m)=>(a(),d("div",yo,[n("div",{class:"viewport",ref_key:"viewport",ref:o},null,512)]))}};const rt=e=>(ye("data-v-eff09eb2"),e=e(),Ee(),e),Co=rt(()=>n("div",{class:"tips-text"},[n("p",null,"Directly drop the gltf/glb (folder or zip) or .hdr to here")],-1)),wo=rt(()=>n("div",{class:"tips-icon"},null,-1)),Lo=rt(()=>n("div",{class:"tips-text-bottom"},[n("p",null,"(Click to close this import modal)")],-1)),xo=[Co,wo,Lo],ko={__name:"index",setup(e){const o=t(!1);function r(){const u=editor.tracer.canvas;u.addEventListener("dragenter",()=>{window.isLibraryDrag||(o.value=!0)}),u.addEventListener("dragleave",()=>{window.isLibraryDrag||(o.value=!1)}),new En(u,u).on("drop",({files:g})=>{if(window.isLibraryDrag)return;o.value=!1,Array.from(g).find(([l,s])=>s.name.match(/\.(gltf|glb)$/))?editor.sceneListener.importGLTFModel(g):ze({message:"Please drag in the Folder/Zip containing gltf/glb",center:!0,type:"error",showClose:!0,duration:5e3})})}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,r)}),(u,m)=>(a(),d("div",{class:A(["dropTipsArea",{isDroping:o.value}])},[n("div",{class:A(["tips-area",{isDroping:o.value}])},xo,2)],2))}},$o=ee(ko,[["__scopeId","data-v-eff09eb2"]]);const ve=e=>(ye("data-v-7e118bd0"),e=e(),Ee(),e),To=ve(()=>n("span",{class:"top-menu-title"},"Import",-1)),Do=ve(()=>n("span",{class:"top-menu-title"},"Export",-1)),So=ve(()=>n("span",null,"Geometry",-1)),Mo=ve(()=>n("span",{class:"top-menu-title"},"Add",-1)),Ro=ve(()=>n("span",null,"Mesh",-1)),Io=ve(()=>n("span",null,"Light",-1)),Ao=ve(()=>n("span",null,"Text",-1)),Oo=ve(()=>n("span",{class:"iconfont menu-icon icon-undo"},null,-1)),Vo=ve(()=>n("span",{class:"top-menu-title"},"Undo",-1)),Po=ve(()=>n("span",{class:"iconfont menu-icon icon-redo"},null,-1)),Bo=ve(()=>n("span",{class:"top-menu-title"},"Redo",-1)),Uo=ve(()=>n("span",{class:"import-tips-text"},"You can directly drag the gltf/glb folder or zip to the page without clicking import button :D",-1)),No={class:"add-dialog-container"},Fo={class:"my-header"},Go={class:"add-dialog-title"},Ho={class:"primitive-params-area"},zo={key:0,class:"component-title"},Ko={class:"dialog-footer"},jo={__name:"index",setup(e){const o=LGL_BACKEND=="webgpu",r=t(!0),u=t(),m=t(!1),g=t(!1),f=t("");t(!1),t();const y=t([]),l=t(""),s=[{type:"box",title:"Box"},{type:"sphere",title:"Sphere"},{type:"plane",title:"Plane"},{type:"cylinder",title:"Cylinder"},{type:"cone",title:"Cone"},{type:"torus",title:"Torus"},{type:"octahedron",title:"Octahedron"},{type:"heartShape",title:"HeartShape",params:{curveSegments:12}}],c=t(1),i=t(1),_=t(1),b=t(1),C=t(1),E=t(1),I=t([{type:"input-number",name:"width",title:p(()=>v.global.t("width")),props:{precision:3,step:.01,min:.01,max:30},value:c},{type:"input-number",name:"height",title:p(()=>v.global.t("height")),props:{precision:3,step:.01,min:.01,max:30},value:i},{type:"input-number",name:"depth",title:p(()=>v.global.t("depth")),props:{precision:3,step:.01,min:.01,max:30},value:_},{type:"input-number",name:"widthSegments",title:p(()=>v.global.t("width segments")),props:{precision:0,step:1,min:1,max:10},value:b},{type:"input-number",name:"heightSegments",title:p(()=>v.global.t("height segments")),props:{precision:0,step:1,min:1,max:10},value:C},{type:"input-number",name:"depthSegments",title:p(()=>v.global.t("depth segments")),props:{precision:0,step:1,min:1,max:10},value:E}]),L=t(.5),$=t(32),T=t(16),q=t([{type:"input-number",name:"radius",title:p(()=>v.global.t("radius")),props:{precision:3,step:.01,min:.1,max:30},value:L},{type:"input-number",name:"widthSegments",title:p(()=>v.global.t("width segments")),props:{precision:0,step:1,min:1,max:64},value:$},{type:"input-number",name:"heightSegments",title:p(()=>v.global.t("height segments")),props:{precision:0,step:1,min:1,max:32},value:T}]),H=t(1),X=t(1),M=t(1),le=t(1),ae=t([{type:"input-number",name:"width",title:p(()=>v.global.t("width")),props:{precision:3,step:.01,min:.1,max:30},value:H},{type:"input-number",name:"height",title:p(()=>v.global.t("height")),props:{precision:3,step:.01,min:.1,max:30},value:X},{type:"input-number",name:"widthSegments",title:p(()=>v.global.t("width segments")),props:{precision:0,step:1,min:1,max:30},value:M},{type:"input-number",name:"heightSegments",title:p(()=>v.global.t("height segments")),props:{precision:0,step:1,min:1,max:30},value:le}]),ie=t(.5),P=t(.5),se=t(1),Y=t(32),S=t(1),k=t([{type:"input-number",name:"radiusTop",title:p(()=>v.global.t("radius top")),props:{precision:3,step:.01,min:0,max:30},value:ie},{type:"input-number",name:"radiusBottom",title:p(()=>v.global.t("radius bottom")),props:{precision:3,step:.01,min:0,max:30},value:P},{type:"input-number",name:"height",title:p(()=>v.global.t("height")),props:{precision:3,step:.01,min:.1,max:50},value:se},{type:"input-number",name:"radialSegments",title:p(()=>v.global.t("radial segments")),props:{precision:0,step:1,min:1,max:64},value:Y},{type:"input-number",name:"heightSegments",title:p(()=>v.global.t("height segments")),props:{precision:0,step:1,min:1,max:64},value:S}]),N=t(.5),ne=t(1),ue=t(32),he=t(1),oe=t([{type:"input-number",name:"radius",title:p(()=>v.global.t("radius")),props:{precision:3,step:.01,min:.01,max:30},value:N},{type:"input-number",name:"height",title:p(()=>v.global.t("height")),props:{precision:3,step:.01,min:.01,max:50},value:ne},{type:"input-number",name:"radialSegments",title:p(()=>v.global.t("radial segments")),props:{precision:0,step:1,min:1,max:64},value:ue},{type:"input-number",name:"heightSegments",title:p(()=>v.global.t("height segments")),props:{precision:0,step:1,min:1,max:64},value:he}]),_e=t(.5),de=t(.2),Re=t(12),Ie=t(28),We=t([{type:"input-number",name:"radius",title:p(()=>v.global.t("radius")),props:{precision:3,step:.01,min:.01,max:20},value:_e},{type:"input-number",name:"tube",title:p(()=>v.global.t("tube")),props:{precision:3,step:.01,min:.01,max:10},value:de},{type:"input-number",name:"radialSegments",title:p(()=>v.global.t("radial segments")),props:{precision:0,step:1,min:1,max:32},value:Re},{type:"input-number",name:"tubularSegments",title:p(()=>v.global.t("tubular segments")),props:{precision:0,step:1,min:1,max:64},value:Ie}]),Ue=t(.5),Ae=t(0),qe=t([{type:"input-number",name:"radius",title:p(()=>v.global.t("radius")),props:{precision:3,step:.01,min:.01,max:20},value:Ue},{type:"input-number",name:"detail",title:p(()=>v.global.t("Detail")),props:{precision:0,step:1,min:0,max:5},value:$}]),Oe=t(12),Je=t([{type:"input-number",name:"curveSegments",title:p(()=>v.global.t("curve segments")),props:{precision:0,step:1,min:12,max:32},value:Oe}]),Ye=[{type:"area",title:"Area"},{type:"point",title:"Point"},{type:"direction",title:"Direction"}],z=t("LGLTracer"),x=t(100),pe=t(1),Ce=t(12),U=t(!0),$e=t([{type:"el-input",name:"content",title:p(()=>v.global.t("content")),props:{placeholder:"Text Content"},value:z},{type:"input-number",name:"size",title:p(()=>v.global.t("size")),props:{precision:0,step:1,min:10,max:200},value:x},{type:"input-number",name:"height",title:p(()=>v.global.t("height")),props:{precision:0,step:1,min:1,max:20},value:pe},{type:"input-number",name:"curveSegments",title:p(()=>v.global.t("curve segments")),props:{precision:0,step:1,min:12,max:32},value:Ce},{type:"el-switch",name:"bevelEnabled",title:p(()=>v.global.t("bevel enabled")),props:{},value:U}]),J=["GLB"],Ze=["OBJ","STL"];function Te(Z){editor.sceneListener.addTHREELight(Z)}function Ht(){r.value=!r.value}function zt(){m.value=!0}function Kt(){u.value.accept=".fbx, .obj, .stl",u.value.click()}function jt(){u.value.accept=".hdr, .exr",u.value.click()}function ct(Z){editor.sceneListener.exportTypeModel(Z)}function ut(Z){switch(Z){case"box":y.value=I.value,f.value="Box Geometry";break;case"sphere":y.value=q.value,f.value="Sphere Geometry";break;case"plane":y.value=ae.value,f.value="Plane Geometry";break;case"cylinder":y.value=k.value,f.value="Cylinder Geometry";break;case"cone":y.value=oe.value,f.value="Cone Geometry";break;case"torus":y.value=We.value,f.value="Torus Geometry";break;case"octahedron":y.value=qe.value,f.value="Octahedron Geometry";break;case"heartShape":y.value=Je.value,f.value="HeartShape Geometry";break;case"text":y.value=$e.value,f.value="Text Geometry";break}l.value=Z,g.value=!0}function Wt(){const Z=f.value.toLowerCase();switch(g.value=!1,Z){case"box geometry":editor.sceneListener.addTHREEMesh(Z,{width:c.value,height:i.value,depth:_.value,widthSegments:b.value,heightSegments:C.value,depthSegments:E.value});break;case"sphere geometry":editor.sceneListener.addTHREEMesh(Z,{radius:L.value,widthSegments:$.value,heightSegments:T.value});break;case"plane geometry":editor.sceneListener.addTHREEMesh(Z,{width:H.value,height:X.value,widthSegments:M.value,heightSegments:le.value});break;case"cylinder geometry":editor.sceneListener.addTHREEMesh(Z,{radiusTop:ie.value,radiusBottom:P.value,height:se.value,radialSegments:Y.value,heightSegments:S.value});break;case"cone geometry":editor.sceneListener.addTHREEMesh(Z,{radius:N.value,height:ne.value,radialSegments:ue.value,heightSegments:he.value});break;case"torus geometry":editor.sceneListener.addTHREEMesh(Z,{radius:_e.value,tube:de.value,radialSegments:Re.value,tubularSegments:Ie.value});break;case"octahedron geometry":editor.sceneListener.addTHREEMesh(Z,{radius:Ue.value,detail:Ae.value});break;case"heartshape geometry":editor.sceneListener.addTHREEMesh(Z,{curveSegments:Oe.value});break;case"text geometry":editor.sceneListener.addTHREEMesh(Z,{content:z.value,size:x.value,height:pe.value,curveSegments:Ce.value,bevelEnabled:U.value});break}}function qt(){editor.historyListener.redo()}function Jt(){editor.historyListener.undo()}function Xt(){}return je(()=>{u.value.addEventListener("change",Z=>{const ce=Z.target.files[0];ce.name&&editor.sceneListener.importTypeFile(ce)})}),Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,Xt)}),(Z,ce)=>{const fe=R("el-menu-item"),Ve=R("el-sub-menu"),Yt=R("el-menu"),dt=R("el-dialog"),pt=R("el-button");return a(),d("div",{class:A(["top-left-menu-container",{"is-open":r.value}])},[h(Yt,{mode:"horizontal",class:"menu-content",ellipsis:!1},{default:w(()=>[h(Ve,{index:"1"},{title:w(()=>[To]),default:w(()=>[h(fe,{index:"1-1",onClick:zt},{default:w(()=>[re("GLTF/GLB")]),_:1}),h(fe,{index:"1-2",onClick:Kt},{default:w(()=>[re("FBX/OBJ/STL")]),_:1}),h(fe,{index:"1-3",onClick:jt},{default:w(()=>[re("HDR/EXR")]),_:1})]),_:1}),h(Ve,{index:"2"},{title:w(()=>[Do]),default:w(()=>[(a(),d(O,null,V(J,(F,be)=>h(fe,{index:`2-${be}`,onClick:Ne=>ct(F)},{default:w(()=>[re(D(F),1)]),_:2},1032,["index","onClick"])),64)),h(Ve,{index:"2-4"},{title:w(()=>[So]),default:w(()=>[(a(),d(O,null,V(Ze,(F,be)=>h(fe,{key:F,index:`2-4-${be}`,onClick:Ne=>ct(F)},{default:w(()=>[n("span",null,D(F),1)]),_:2},1032,["index","onClick"])),64))]),_:1})]),_:1}),o?(a(),G(Ve,{key:0,index:"3"},{title:w(()=>[Mo]),default:w(()=>[h(Ve,{index:"3-1"},{title:w(()=>[Ro]),default:w(()=>[(a(),d(O,null,V(s,(F,be)=>h(fe,{key:F.type,index:`3-1-${be}`,onClick:Ne=>ut(F.type)},{default:w(()=>[n("span",{class:A(["iconfont menu-item-icon",`icon-${F.type}`])},null,2),n("span",null,D(F.title),1)]),_:2},1032,["index","onClick"])),64))]),_:1}),h(Ve,{index:"3-2"},{title:w(()=>[Io]),default:w(()=>[(a(),d(O,null,V(Ye,(F,be)=>h(fe,{key:F.type,index:`3-2-${be}`,onClick:Ne=>Te(F.type)},{default:w(()=>[n("span",null,D(F.title),1)]),_:2},1032,["index","onClick"])),64))]),_:1}),h(fe,{index:"3-3",onClick:ce[0]||(ce[0]=F=>ut("text"))},{default:w(()=>[Ao]),_:1})]),_:1})):W("",!0),h(fe,{index:"4",onClick:Jt},{default:w(()=>[Oo,Vo]),_:1}),h(fe,{index:"5",onClick:qt},{default:w(()=>[Po,Bo]),_:1})]),_:1}),n("div",{class:"menu-toggle",onClick:Ht}),n("input",{ref_key:"importInput",ref:u,style:{display:"none"},type:"file",class:"importInput"},null,512),h(dt,{modelValue:m.value,"onUpdate:modelValue":ce[1]||(ce[1]=F=>m.value=F),width:400,title:"Tips",center:""},{default:w(()=>[Uo]),_:1},8,["modelValue"]),n("div",No,[h(dt,{modelValue:g.value,"onUpdate:modelValue":ce[4]||(ce[4]=F=>g.value=F),width:330,center:"","show-close":!1,"close-on-click-modal":!1},{header:w(()=>[n("div",Fo,[n("span",{class:A(["iconfont add-dialog-icon",`icon-${l.value}`])},null,2),n("span",Go,D(`${f.value} Setting`),1)])]),footer:w(()=>[n("span",Ko,[h(pt,{onClick:ce[2]||(ce[2]=F=>g.value=!1)},{default:w(()=>[re("Cancel")]),_:1}),h(pt,{type:"primary",onClick:ce[3]||(ce[3]=F=>Wt())},{default:w(()=>[re(" Confirm ")]),_:1})])]),default:w(()=>[n("div",Ho,[(a(!0),d(O,null,V(y.value,(F,be)=>(a(),d("div",{key:be,class:"component-container"},[F.title?(a(),d("div",zo,D(F.title),1)):W("",!0),(a(),G(te(F.type),ge({class:"componet-body",modelValue:F.value,"onUpdate:modelValue":Ne=>F.value=Ne},F.props),null,16,["modelValue","onUpdate:modelValue"]))]))),128))])]),_:1},8,["modelValue"])])],2)}}},Wo=ee(jo,[["__scopeId","data-v-7e118bd0"]]);const Ut=e=>(ye("data-v-6097ef80"),e=e(),Ee(),e),qo={class:"menu-content"},Jo={class:"sample-count"},Xo=Ut(()=>n("span",{class:"item-text pre-text"},"Samples:",-1)),Yo={class:"item-text cur-sample-text"},Zo=Ut(()=>n("span",{class:"item-text split-text"},"/",-1)),Qo={class:"item-text target-sample-text"},ea={__name:"index",setup(e){const o=t(),r=t(!0),u=t(0),m=t(0);function g(){r.value=!r.value}function f(){var c,i;(i=(c=o.value)==null?void 0:c.blur)==null||i.call(c)}function y(){m.value=editor.tracer.targetSampleCount,u.value=editor.tracer.sampleCount}function l(){u.value=editor.tracer.sampleCount}const s=c=>{editor.tracer.targetSampleCount=c};return Q(()=>{Editor.on(Editor.events.RENDER_DRAWCALL,l),Editor.on(Editor.events.EDITOR_LOADED,y)}),(c,i)=>{const _=R("el-input");return a(),d("div",{class:A(["top-right-menu-container",{"is-open":r.value}])},[n("div",{class:"menu-toggle",onClick:i[0]||(i[0]=b=>g())}),n("ul",qo,[n("li",Jo,[Xo,n("span",Yo,D(u.value),1),Zo,n("span",Qo,[h(_,{ref_key:"input",ref:o,modelValue:m.value,"onUpdate:modelValue":i[1]||(i[1]=b=>m.value=b),placeholder:"",max:99999,min:0,onKeydown:[Fe(Le(f,["prevent"]),["enter"]),i[2]||(i[2]=Le(()=>{},["stop"]))],onKeyup:i[3]||(i[3]=Le(()=>{},["stop"])),onChange:s},null,8,["modelValue","onKeydown"])])])])],2)}}},ta=ee(ea,[["__scopeId","data-v-6097ef80"]]);const na={class:"property-container"},oa={class:"mesh-name"},aa={class:"mesh-name-text"},sa={__name:"index",setup(e){const o=t(""),r=xe({x:0,y:0,z:0}),{x:u,y:m,z:g}=ke(r),f=xe({x:0,y:0,z:0}),{x:y,y:l,z:s}=ke(f),c=xe({x:1,y:1,z:1}),{x:i,y:_,z:b}=ke(c),C=new Cn,E=new yt,I=new wn,L=new Ln,$=new yt,T=t(!0),q=t(!0),H=t([{type:"input-group",name:"position",show:!0,props:{title:p(()=>v.global.t("position")),precision:3},value:{x:{value:u,name:"X",step:.01},y:{value:m,name:"Y",step:.01},z:{value:g,name:"Z",step:.01}}},{type:"input-group",name:"rotation",show:T,props:{title:p(()=>v.global.t("rotation")),precision:2},value:{x:{value:y,name:"X",step:1,min:-360,max:360},y:{value:l,name:"Y",step:1,min:-360,max:360},z:{value:s,name:"Z",step:1,min:-360,max:360}}},{type:"input-group",name:"scale",show:q,props:{title:p(()=>v.global.t("scale")),precision:3,canLock:!0},value:{x:{value:i,name:"X",step:.001,min:.001},y:{value:_,name:"Y",step:.001,min:.001},z:{value:b,name:"Z",step:.001,min:.001}}}]);function X(P,se,Y){E.fromArray(P),I.fromArray(se.map(S=>Ge.degToRad(S))),$.fromArray(Y),L.identity(),L.setFromEuler(I),C.compose(E,L,$)}function M(P,se,Y){P==="scale"&&se.isLocked&&(i.value=_.value=b.value=se.value),X([u.value,m.value,g.value],[y.value,l.value,s.value],[i.value,_.value,b.value]),editor.renderListener.updateMeshTransform(C,Y,P)}function le(P){u.value=P.position.x,m.value=P.position.y,g.value=P.position.z,y.value=Ge.radToDeg(P.rotation.x),l.value=Ge.radToDeg(P.rotation.y),s.value=Ge.radToDeg(P.rotation.z),i.value=P.scale.x,_.value=P.scale.y,b.value=P.scale.z}function ae(P){if(P){if(P.isLight)switch(P.type){case"RectAreaLight":T.value=!0,q.value=!1;break;case"PointLight":case"DirectionalLight":T.value=!1,q.value=!1}else T.value=!0,q.value=!0;o.value=P.name,le(P)}}function ie(P){P&&le(P)}return Q(()=>{Editor.on(Editor.events.OBJECT_SELECTED,ae),Editor.on(Editor.events.TRANSFORM_CHANGE,ie)}),(P,se)=>(a(),d("div",na,[n("div",oa,[re(" Name: "),n("span",aa,D(o.value),1)]),(a(!0),d(O,null,V(H.value,(Y,S)=>(a(),d("div",{key:S},[K((a(),G(te(Y.type),ge({modelValue:Y.value,"onUpdate:modelValue":k=>Y.value=k},Y.props,{onInput:k=>M(Y.name,k,!1),onChange:k=>M(Y.name,k,!0)}),null,16,["modelValue","onUpdate:modelValue","onInput","onChange"])),[[j,Y.show]])]))),128))]))}},la=ee(sa,[["__scopeId","data-v-c60057f8"]]);const ia={class:"material-container"},ra={class:"material-name"},ca={class:"material-name-text"},ua={key:0,class:"component-container"},da={key:0,class:"component-title"},pa={key:0,class:"component-title"},ma={key:0,class:"component-title"},va={__name:"index",setup(e){const o=LGL_BACKEND=="webgpu",r=t(""),u=t([]),m=t("#000000"),g=t("Metalness"),f=t(0),y=t(0),l=t(0),s=t(1.5),c=t("#000000"),i=t(1),_=t(1),b=t(.1),C=t(0),E=t(.5),I=t(0),L=t("#000000"),$=t(.05),T=t(1),q=t("#FFFFFF"),H=t(1),X=t(!0),M=xe({x:0,y:0}),{x:le,y:ae}=ke(M),ie=xe({x:0,y:0}),{x:P,y:se}=ke(ie),Y=xe({x:1,y:1}),{x:S,y:k}=ke(Y),N=t(0),ne=t("Repeat"),ue=t("Repeat"),he=t([{type:"color-picker",name:"color",title:p(()=>v.global.t("color")),value:m},{type:"slider",name:"roughness",title:p(()=>v.global.t("roughness")),props:{step:.01,min:0,max:1},workflow:"Metalness",value:f},{type:"slider",name:"metalness",title:p(()=>v.global.t("metalness")),props:{step:.01,min:0,max:1},workflow:"Metalness",value:y},{type:"color-picker",name:"specularColor",title:p(()=>v.global.t("specularColor")),workflow:"Specular",value:q},{type:"slider",name:"glossiness",title:p(()=>v.global.t("glossiness")),props:{step:.01,min:0,max:1},workflow:"Specular",value:H},{type:"slider",name:"transmission",title:p(()=>v.global.t("transmission")),props:{step:.01,min:0,max:1},value:l},{type:"slider",name:"ior",title:p(()=>v.global.t("ior")),props:{step:.01,min:1,max:2.2},value:s},{type:"color-picker",name:"emissive",title:p(()=>v.global.t("emissive")),value:c},{type:"slider",name:"emissiveIntensity",title:p(()=>v.global.t("emissive intensity")),value:i,props:{step:.01,min:1,max:10}},{type:"slider",name:"alpha",title:p(()=>v.global.t("alpha")),props:{step:.01,min:0,max:1},value:T}]),oe=t([{type:"slider",name:"subsurface",title:p(()=>v.global.t("subsurface")),props:{step:.01,min:0,max:1},value:I},{type:"color-picker",name:"subsurfaceColor",title:p(()=>v.global.t("subsurface color")),value:L},{type:"slider",name:"subsurfaceMFP",title:p(()=>v.global.t("subsurface mfp")),props:{precision:3,step:.01,min:0,max:1},value:$}]),_e=t([{type:"slider",name:"clearcoat",title:p(()=>v.global.t("clearcoat")),props:{step:.01,min:0,max:1},value:_},{type:"slider",name:"clearcoatRoughness",title:p(()=>v.global.t("clearcoat roughness")),props:{step:.01,min:0,max:1},value:b},{type:"slider",name:"sheen",title:p(()=>v.global.t("sheen")),props:{step:.01,min:0,max:1},value:C},{type:"slider",name:"sheenTint",title:p(()=>v.global.t("sheen tint")),props:{step:.01,min:0,max:1},value:E}]),de=t([{type:"input-group",name:"offset",show:!0,props:{title:p(()=>v.global.t("offset")),precision:3},value:{x:{value:le,name:"X",step:.01},y:{value:ae,name:"Y",step:.01}}},{type:"input-group",name:"repeat",show:!0,props:{title:p(()=>v.global.t("repeat")),precision:3},value:{x:{value:P,name:"X",step:.01},y:{value:se,name:"Y",step:.01}}},{type:"input-group",name:"center",show:!0,props:{title:p(()=>v.global.t("center")),precision:3},value:{x:{value:S,name:"X",step:.01},y:{value:k,name:"Y",step:.01}}},{type:"slider",name:"rotation",title:p(()=>v.global.t("rotation")),props:{step:1,min:0,max:360},value:N},{type:"select",name:"wrapS",title:p(()=>v.global.t("wrapS")),props:{options:[{label:"Repeat",value:"Repeat"},{label:"ClampToEdge",value:"ClampToEdge"},{label:"MirroredRepeat",value:"MirroredRepeat"}]},value:ne},{type:"select",name:"wrapT",title:p(()=>v.global.t("wrapT")),props:{options:[{label:"Repeat",value:"Repeat"},{label:"ClampToEdge",value:"ClampToEdge"},{label:"MirroredRepeat",value:"MirroredRepeat"}]},value:ue}]),Re=t(o?[{title:"Subsurface",components:oe},{title:"Advanced",components:_e}]:[{title:"Advanced",components:_e}]),Ie=t({title:"Texture UV Transform",components:de}),We={1e3:"Repeat",1001:"ClampToEdge",1002:"MirroredRepeat"};let Ue=!0;async function Ae(z,x,pe){switch(z=="color"&&(m.value=x),z=="specularColor"&&(q.value=x),z=="emissive"&&(c.value=x),z=="subsurfaceColor"&&(L.value=x),z){case"color":case"specularColor":case"emissive":case"subsurfaceColor":x=xn(x);break}if(z.includes("subsurface")&&Ue){Ue=!1;const Ce=document.querySelector(".building-text-container .building-text"),U=document.querySelector(".building-text-container");U.classList.add("building"),Ce.textContent="Building...",await editor.renderListener.updateMeshMaterialParam(z,x,pe),U.classList.remove("building")}else await editor.renderListener.updateMeshMaterialParam(z,x,pe);z=="transmission"&&x>0&&editor.tracer.bounces<5&&(editor.tracer.bounces=5)}function qe(z,x,pe){editor.renderListener.updateMeshMaterialUVTransformParam(z,x,pe)}function Oe(z){const x=z.material;x.color?m.value=`#${x.color.getHexString()}`:m.value=Qe(x.userData.color),f.value=x.roughness??x.userData.roughness,y.value=x.metalness??x.userData.metalness,l.value=x.transmission??x.userData.transmission,s.value=x.ior??x.userData.ior,x.emissive?c.value=`#${x.emissive.getHexString()}`:c.value=Qe(x.userData.emissive),i.value=x.emissiveIntensity??x.userData.emissiveIntensity,_.value=x.clearcoat??x.userData.clearcoat,b.value=x.clearcoatRoughness??x.userData.clearcoatRoughness,C.value=x.sheen??x.userData.sheen,E.value=x.sheenTint??x.userData.sheenTint,T.value=x.opacity??x.userData.alpha,g.value=="Specular"&&(q.value=`#${x.specular.getHexString()}`,H.value=x.glossiness),I.value=x.userData.subsurface,$.value=x.userData.subsurfaceMFP,L.value=Qe(x.userData.subsurfaceColor),X.value=!!x.map,Je(z)}function Je(z){const x=z.material;if(!x.map)return;le.value=x.map.offset.x,ae.value=x.map.offset.y,P.value=x.map.repeat.x,se.value=x.map.repeat.y,S.value=x.map.center.x,S.value=x.map.center.y,N.value=Ge.radToDeg(x.map.rotation);const pe=x.map.wrapS,Ce=x.map.wrapT;ne.value=We[pe],ue.value=We[Ce]}function Ye(z){if(!z||!z.material)return;const x=z.material;r.value=x.name,g.value=x.isGLTFSpecularGlossinessMaterial?"Specular":"Metalness",Oe(z)}return Q(()=>{Editor.on(Editor.events.OBJECT_SELECTED,Ye),Editor.on(Editor.events.MATERIAL_PARAM_CHANGE,Oe),Editor.on(Editor.events.MATERIAL_CHANGE,Oe),Editor.on(Editor.events.MATERIAL_TEXTURE_PARAM_CHANGE,Je)}),(z,x)=>{const pe=R("el-collapse-item"),Ce=R("el-collapse");return a(),d("div",ia,[n("div",ra,[re(" Name: "),n("span",ca,D(r.value),1)]),(a(!0),d(O,null,V(he.value,(U,$e)=>(a(),d(O,{key:$e},[!U.workflow||g.value==U.workflow?(a(),d("div",ua,[U.title?(a(),d("div",da,D(U.title),1)):W("",!0),(a(),G(te(U.type),ge({class:"componet-body",modelValue:U.value,"onUpdate:modelValue":J=>U.value=J},U.props,{onChange:J=>Ae(U.name,J,!0),onInput:J=>(U.type=="slider"||"color-picker")&&Ae(U.name,J,!1)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))])):W("",!0)],64))),128)),h(Ce,{modelValue:u.value,"onUpdate:modelValue":x[0]||(x[0]=U=>u.value=U),class:"inner-collapse",accordion:""},{default:w(()=>[(a(!0),d(O,null,V(Re.value,(U,$e)=>(a(),G(pe,{title:U.title,name:$e},{default:w(()=>[(a(!0),d(O,null,V(U.components,(J,Ze)=>(a(),d("div",{key:Ze,class:"component-container"},[J.title?(a(),d("div",pa,D(J.title),1)):W("",!0),(a(),G(te(J.type),ge({class:"componet-body",modelValue:J.value,"onUpdate:modelValue":Te=>J.value=Te},J.props,{onChange:Te=>Ae(J.name,Te,!0),onInput:Te=>(J.type=="slider"||"color-picker")&&Ae(J.name,Te,!1)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))]))),128))]),_:2},1032,["title","name"]))),256)),o?K((a(),G(pe,{key:0,title:Ie.value.title,name:"uv"},{default:w(()=>[(a(!0),d(O,null,V(Ie.value.components,(U,$e)=>(a(),d("div",{key:$e,class:"component-container"},[U.title?(a(),d("div",ma,D(U.title),1)):W("",!0),(a(),G(te(U.type),ge({class:"componet-body",modelValue:U.value,"onUpdate:modelValue":J=>U.value=J},U.props,{onChange:J=>qe(U.name,J,!0),onInput:J=>(U.type=="slider"||"input-group")&&qe(U.name,J,!1)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))]))),128))]),_:1},8,["title"])),[[j,X.value]]):W("",!0)]),_:1},8,["modelValue"])])}}},_a=ee(va,[["__scopeId","data-v-f449f0f1"]]);const ga={class:"light-container"},fa={class:"component-container"},ha={key:0,class:"component-title"},ba={__name:"index",setup(e){const o=t(""),r=t("RectAreaLight"),u=t("#ffffff"),m=t(1),g=t(1),f=t(1),y=xe({x:0,y:0,z:0}),{x:l,y:s,z:c}=ke(y),i=t([{type:"color-picker",name:"color",title:p(()=>v.global.t("color")),value:u,props:{}},{type:"slider",name:"intensity",title:p(()=>v.global.t("intensity")),props:{step:.01,min:0,max:10},value:m},{type:"slider",name:"width",includeLightType:["RectAreaLight"],title:p(()=>v.global.t("width")),props:{step:.01,min:.01,max:10},value:g},{type:"slider",name:"height",includeLightType:["RectAreaLight"],title:p(()=>v.global.t("height")),props:{step:.01,min:.01,max:10},value:f},{type:"input-group",name:"target",includeLightType:["DirectionalLight"],props:{title:p(()=>v.global.t("target")),precision:3},value:{x:{value:l,name:"X",step:.01},y:{value:s,name:"Y",step:.01},z:{value:c,name:"Z",step:.01}}}]);function _(E,I,L){E=="color"&&(u.value=I),editor.renderListener.updateLightParam(E,I,L)}function b(E){switch(E.color!==void 0&&(u.value=`#${E.color.getHexString()}`),E.intensity!==void 0&&(m.value=E.intensity),E.type){case"RectAreaLight":g.value=E.width,f.value=E.height;break;case"PointLight":break;case"DirectionalLight":l.value=E.target.position.x,s.value=E.target.position.y,c.value=E.target.position.z}}function C(E){if(!E||!E.isLight)return;const I=E.type;o.value=E.name,r.value=I,b(E)}return Q(()=>{Editor.on(Editor.events.OBJECT_SELECTED,C),Editor.on(Editor.events.LIGHT_PARAM_CHANGE,b)}),(E,I)=>(a(),d("div",ga,[(a(!0),d(O,null,V(i.value,(L,$)=>(a(),d("div",{key:$},[K(n("div",fa,[L.title?(a(),d("div",ha,D(L.title),1)):W("",!0),(a(),G(te(L.type),ge({class:"componet-body",modelValue:L.value,"onUpdate:modelValue":T=>L.value=T},L.props,{onChange:T=>_(L.name,T,!0),onInput:T=>(L.type=="slider"||"input-group")&&_(L.name,T,!1)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))],512),[[j,!L.includeLightType||L.includeLightType.includes(r.value)]])]))),128))]))}},ya=ee(ba,[["__scopeId","data-v-4de5aecf"]]);const Ea={class:"mesh-container"},Ca={class:"tab-header"},wa={class:"tab-title"},La={class:"tab-title-text"},xa={class:"collapse-container"},ka={__name:"index",props:["closeDrawer"],setup(e){const o=LGL_BACKEND=="webgpu",r=t(!1),u=t(""),m=t([1,2]),g=t({title:p(()=>v.global.t("property")),icon:"transform"});function f(y){y?(r.value=!0,y.isMesh?u.value="material":y.isLight?u.value="light":u.value=""):r.value=!1}return Q(()=>{Editor.on(Editor.events.OBJECT_SELECTED,f)}),(y,l)=>{const s=R("el-collapse-item"),c=R("el-empty"),i=R("el-collapse"),_=R("el-scrollbar");return a(),d("div",Ea,[n("div",{class:"header-container",onClick:l[0]||(l[0]=(...b)=>e.closeDrawer&&e.closeDrawer(...b))},[n("div",Ca,[n("div",wa,[n("span",{class:A(["iconfont tab-icon","icon-"+g.value.icon])},null,2),n("span",La,D(g.value.title),1)])])]),K(n("div",xa,[h(_,{class:"mesh-scrollbar",height:"100%"},{default:w(()=>[h(i,{modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=b=>m.value=b)},{default:w(()=>[h(s,{title:"Transform",name:1},{default:w(()=>[h(la)]),_:1}),K(h(s,{title:"Material",name:2},{default:w(()=>[h(_a),K(h(c,{description:"No Selected Mesh"},null,512),[[j,u.value!="material"]])]),_:1},512),[[j,u.value=="material"]]),o?K((a(),G(s,{key:0,title:"Light",name:2},{default:w(()=>[h(ya),K(h(c,{description:"No Selected Light"},null,512),[[j,u.value!="light"]])]),_:1},512)),[[j,u.value=="light"]]):W("",!0)]),_:1},8,["modelValue"])]),_:1})],512),[[j,r.value]]),K(h(c,{description:"No Selected Object"},null,512),[[j,!r.value]])])}}},$a=ee(ka,[["__scopeId","data-v-25ef7d4d"]]),Ta={class:"setting-container"},Da={class:"component-title"},Sa={class:"component-container"},Ma={class:"component-title"},Ra={class:"component-container"},Ia={class:"component-title"},Aa={class:"component-container"},Oa={class:"component-title"},Va={__name:"index",setup(e){const o=t(2),r=t(4),u=t(1),m=t(0),g=t("Linear"),f=t(!1),y=t("#000000"),l=t(1),s=t(!1),c=t(4),i=t("Auto"),_=t([{type:"slider",name:"downsamplingFactor",title:p(()=>v.global.t("moving downsampling")),props:{step:1,min:1,max:10},value:r},{type:"slider",name:"envMapIntensity",title:p(()=>v.global.t("env map intensity")),props:{step:.1,min:0,max:5},value:u},{type:"slider",name:"envRotation",title:p(()=>v.global.t("env rotation")),props:{step:1,min:0,max:360},value:m},{type:"el-switch",name:"enableBackgroundColor",title:p(()=>v.global.t("enable bgcolor")),props:{size:"small"},value:f},{type:"color-picker",name:"backgroundColor",title:p(()=>v.global.t("bgcolor")),value:y},{type:"slider",name:"backgroundAlpha",title:p(()=>v.global.t("background alpha")),props:{step:.01,min:0,max:1},value:l},{type:"select",name:"toneMapping",title:p(()=>v.global.t("tone mapping")),props:{options:[{label:"Linear",value:"Linear"},{label:"ACES",value:"ACES"}]},value:g}]),b=[{label:"Auto",value:"Auto"},{label:"Manual",value:"Manual"}];function C(L,$){editor.renderListener.updateTracerSetting(L,$)}function E(L){editor.setTileRenderMode(L)}function I(){const L=editor.tracer;o.value=L.bounces,r.value=L.downsamplingFactor,u.value=L.envMapIntensity,m.value=L.envRotation,g.value=L.toneMapping,f.value=L.enableBackgroundColor,y.value=L.backgroundColor.getHex(),l.value=L.backgroundAlpha,s.value=L.enableTileRender,c.value=L.tileNumber,i.value==editor.autoTile}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,I)}),(L,$)=>{const T=R("el-switch"),q=R("el-option"),H=R("el-select"),X=R("slider");return a(),d("div",Ta,[(a(!0),d(O,null,V(_.value,(M,le)=>(a(),d("div",{key:le,class:"component-container"},[n("div",Da,D(M.title),1),(a(),G(te(M.type),ge({class:"componet-body",modelValue:M.value,"onUpdate:modelValue":ae=>M.value=ae},M.props,{onChange:ae=>C(M.name,ae),onInput:ae=>M.type=="slider"&&C(M.name,ae)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))]))),128)),n("div",Sa,[n("div",Ma,D(L.$t("enable tile")),1),h(T,{class:"componet-body",onChange:$[0]||($[0]=M=>C("enableTileRender",M)),modelValue:s.value,"onUpdate:modelValue":$[1]||($[1]=M=>s.value=M),size:"small"},null,8,["modelValue"])]),n("div",Ra,[n("div",Ia,D(L.$t("tile setting mode")),1),h(H,{class:"componet-body",modelValue:i.value,"onUpdate:modelValue":$[2]||($[2]=M=>i.value=M),placeholder:"Select",onChange:$[3]||($[3]=M=>E(M))},{default:w(()=>[(a(),d(O,null,V(b,M=>h(q,{key:M.value,label:M.label,value:M.value,disabled:M.disabled},{default:w(()=>[n("div",null,D(M.label),1)]),_:2},1032,["label","value","disabled"])),64))]),_:1},8,["modelValue"])]),n("div",Aa,[n("div",Oa,D(L.$t("tile number")),1),h(X,{class:"componet-body",onChange:$[4]||($[4]=M=>C("tileNumber",M)),onInput:$[5]||($[5]=M=>C("tileNumber",M)),disabled:i.value=="Auto",modelValue:c.value,"onUpdate:modelValue":$[6]||($[6]=M=>c.value=M),step:1,min:1,max:32},null,8,["disabled","modelValue"])])])}}},Pa={class:"camera-container"},Ba={key:0,class:"component-title"},Ua={__name:"index",setup(e){const o=t("Perspective"),r=t(0),u=t(10),m=t(""),g=t(!0),f=t([{type:"select",name:"type",title:p(()=>v.global.t("type")),props:{options:[{label:"Perspective",value:"Perspective"},{label:"Orthographic",value:"Orthographic"}]},value:o},{type:"select",name:"viewAngle",title:p(()=>v.global.t("view angle")),props:{options:[{label:"Front",value:"Front"},{label:"Back",value:"Back"},{label:"Right",value:"Right"},{label:"Left",value:"Left"},{label:"Top",value:"Top"},{label:"Bottom",value:"Bottom"}]},value:m},{type:"el-switch",name:"autoFocus",title:p(()=>v.global.t("autoFocus")),props:{size:"small"},value:g},{type:"slider",name:"aperture",title:p(()=>v.global.t("aperture")),props:{step:.001,min:0,max:1},value:r},{type:"slider",name:"focus",title:p(()=>v.global.t("focus")),props:{step:.1,min:.1,max:100},value:u}]);function y(i,_){editor.renderListener.updateCameraSetting(i,_)}function l(){const i=editor.camera,_=i.isPerspectiveCamera?"Perspective":"Orthographic";o.value=_,r.value=i.aperture,u.value=i.focus,g.value=editor.renderListener.enableRightClickFocus}function s(i){let _="",b="";switch(i.name){case"refocus":editor.renderListener.autoFitCameraByModel();break;case"switchCamera":let E=o.value=="Perspective"?"Orthographic":"Perspective";editor.switchCamera(E),o.value=E;break;case"viewAngleFront":switch(b=i.oriEvent.key,b){case"1":_="Front";break;case"2":_="Right";break;case"3":_="Top";break}m.value=_,editor.renderListener.setCameraViewAngle(_);break;case"viewAngleBack":switch(b=i.oriEvent.key,b){case"4":_="Back";break;case"5":_="Left";break;case"6":_="Bottom";break}m.value=_,editor.renderListener.setCameraViewAngle(_);break}}function c(){const i=editor.camera;u.value=i.focus}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,l),Editor.on(Editor.events.SHORTCUT_COMMAND_UP,s),Editor.on(Editor.events.CAMERA_PARAM_CHANGE,c)}),(i,_)=>(a(),d("div",Pa,[(a(!0),d(O,null,V(f.value,(b,C)=>(a(),d("div",{key:C,class:"component-container"},[b.title?(a(),d("div",Ba,D(b.title),1)):W("",!0),(a(),G(te(b.type),ge({class:"componet-body",modelValue:b.value,"onUpdate:modelValue":E=>b.value=E},b.props,{onChange:E=>y(b.name,E),onInput:E=>b.type=="slider"&&y(b.name,E)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))]))),128))]))}},Na={class:"postprocessing-container"},Fa={key:0,class:"component-title"},Ga={key:0,class:"component-title"},Ha={__name:"index",setup(e){const o=LGL_BACKEND=="webgpu",r=t([1]),u=t(!1),m=t(.8),g=t(.1),f=t(1),y=t(.5),l=t(!1),s=t(.5),c=t(.5),i=t([{type:"el-switch",name:"enabled",title:p(()=>v.global.t("enabled")),props:{size:"small"},value:u},{type:"slider",name:"threshold",title:p(()=>v.global.t("threshold")),props:{step:.01,min:0,max:1},value:m},{type:"slider",name:"smooth",title:p(()=>v.global.t("smooth")),props:{step:.001,min:0,max:.5},value:g},{type:"slider",name:"radius",title:p(()=>v.global.t("radius")),props:{step:.01,min:0,max:2},value:y},{type:"slider",name:"strength",title:p(()=>v.global.t("strength")),props:{step:.01,min:0,max:5},value:f}]),_=t([{type:"el-switch",name:"enabled",title:p(()=>v.global.t("enabled")),props:{size:"small"},value:l},{type:"slider",name:"offset",title:p(()=>v.global.t("offset")),props:{step:.01,min:0,max:1},value:s},{type:"slider",name:"darkness",title:p(()=>v.global.t("darkness")),props:{step:.01,min:0,max:1},value:c}]);function b(E,I,L){editor.renderListener.updatePostProcessingSetting(E,I,L)}function C(){const E=editor.renderListener.composer.bloomPass;u.value=E.enabled,m.value=E.threshold,g.value=E.smooth,f.value=E.strength,o&&(y.value=E.radius);const I=editor.renderListener.composer.vignettePass;l.value=I.enabled,s.value=I.offset,c.value=I.darkness}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,C)}),(E,I)=>{const L=R("el-collapse-item"),$=R("el-collapse");return a(),d("div",Na,[h($,{modelValue:r.value,"onUpdate:modelValue":I[0]||(I[0]=T=>r.value=T),class:"inner-collapse"},{default:w(()=>[h(L,{title:"Bloom",name:1},{default:w(()=>[(a(!0),d(O,null,V(i.value,(T,q)=>(a(),d("div",{key:q,class:"component-container"},[T.title?(a(),d("div",Fa,D(T.title),1)):W("",!0),(a(),G(te(T.type),ge({class:"componet-body",modelValue:T.value,"onUpdate:modelValue":H=>T.value=H},T.props,{onChange:H=>b("bloom",T.name,H),onInput:H=>T.type=="slider"&&b("bloom",T.name,H)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))]))),128))]),_:1}),h(L,{title:"Vignette",name:2},{default:w(()=>[(a(!0),d(O,null,V(_.value,(T,q)=>(a(),d("div",{key:q,class:"component-container"},[T.title?(a(),d("div",Ga,D(T.title),1)):W("",!0),(a(),G(te(T.type),ge({class:"componet-body",modelValue:T.value,"onUpdate:modelValue":H=>T.value=H},T.props,{onChange:H=>b("vignette",T.name,H),onInput:H=>T.type=="slider"&&b("vignette",T.name,H)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))]))),128))]),_:1})]),_:1},8,["modelValue"])])}}},za={class:"denoise-container"},Ka={key:0,class:"component-title"},ja={__name:"index",setup(e){const o=t(!1),r=t(0),u=t(0),m=t(0),g=t([{type:"el-switch",name:"enableDenoise",title:p(()=>v.global.t("enabled")),props:{size:"small"},value:o},{type:"slider",name:"denoiseColorFactor",title:p(()=>v.global.t("color factor")),props:{step:1e-4,min:0,max:1.5},value:r},{type:"slider",name:"denoiseNormalFactor",title:p(()=>v.global.t("normal factor")),props:{step:1e-4,min:0,max:1.5},value:u},{type:"slider",name:"denoisePositionFactor",title:p(()=>v.global.t("position factor")),props:{step:1e-4,min:0,max:1.5},value:m}]);function f(l,s){editor.renderListener.updateDenoiseSetting(l,s)}function y(){const l=editor.tracer;o.value=l.enableDenoise,r.value=l.denoiseColorFactor,u.value=l.denoiseNormalFactor,m.value=l.denoisePositionFactor}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,y)}),(l,s)=>(a(),d("div",za,[(a(!0),d(O,null,V(g.value,(c,i)=>(a(),d("div",{key:i,class:"component-container"},[c.title?(a(),d("div",Ka,D(c.title),1)):W("",!0),(a(),G(te(c.type),ge({class:"componet-body",modelValue:c.value,"onUpdate:modelValue":_=>c.value=_},c.props,{onChange:_=>f(c.name,_),onInput:_=>c.type=="slider"&&f(c.name,_)}),null,16,["modelValue","onUpdate:modelValue","onChange","onInput"]))]))),128))]))}};const Wa={class:"render-container"},qa={class:"tab-header"},Ja={class:"tab-title"},Xa={class:"tab-title-text"},Ya={class:"collapse-container"},Za={__name:"index",props:["closeDrawer"],setup(e){const o=t([1]),r=t({title:p(()=>v.global.t("render")),icon:"render"});return(u,m)=>{const g=R("el-collapse-item"),f=R("el-collapse"),y=R("el-scrollbar");return a(),d("div",Wa,[n("div",{class:"header-container",onClick:m[0]||(m[0]=(...l)=>e.closeDrawer&&e.closeDrawer(...l))},[n("div",qa,[n("div",Ja,[n("span",{class:A(["iconfont tab-icon","icon-"+r.value.icon])},null,2),n("span",Xa,D(r.value.title),1)])])]),n("div",Ya,[h(y,{class:"mesh-scrollbar",height:"100%"},{default:w(()=>[h(f,{modelValue:o.value,"onUpdate:modelValue":m[1]||(m[1]=l=>o.value=l),accordion:""},{default:w(()=>[h(g,{title:"Setting",name:1},{default:w(()=>[h(Va)]),_:1}),h(g,{title:"Denoise",name:2},{default:w(()=>[h(ja)]),_:1}),h(g,{title:"Camera",name:3},{default:w(()=>[h(Ua)]),_:1}),h(g,{title:"PostProcessing",name:4},{default:w(()=>[h(Ha)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])}}},Qa=ee(Za,[["__scopeId","data-v-c3b9ee39"]]);const es=e=>(ye("data-v-8bc573a2"),e=e(),Ee(),e),ts={class:"material-library-list"},ns={class:"list-container"},os={class:"material-group-title"},as={class:"material-library-list"},ss={class:"item-image-container"},ls=["draggable","onDragstart"],is=["onClick"],rs={class:"file-size"},cs=es(()=>n("div",{class:"iconfont icon-download item-download-icon"},null,-1)),us={class:"item-title"},ds={__name:"index",setup(e){const o=new Xe().setResponseType("blob"),r=t([{title:"Floor / Wood / Marble / Stone",list:Et},{title:"Metal",list:Ct},{title:"Fabric / Leather / Pattern",list:wt}]),u=t([...wt,...Et,...Ct]);function m(){u.value.forEach(l=>{const s=l.texturesURL,c=Object.keys(s);localforage.getItem(`material-${l.type}-${l.name}-${c[0]}`).then(i=>{i&&(l.downloaded=!0)})})}m();function g(l){if(l.isDownloading)return;l.isDownloading=!0;const s=l.texturesURL,c=Object.keys(s),i=c.length;let _=0;c.map(b=>{const C=s[b];o.load(C,E=>{localforage.setItem(`material-${l.type}-${l.name}-${b}`,E).then(I=>{_++,l.progress=Math.round(_/i*100),_==i&&(l.downloaded=!0,l.isDownloading=!1)})})})}function f(l,s){if(!l.downloaded)return;window.isLibraryDrag=!0;const c=l.texturesURL,i=Object.keys(c),_=[];i.map(C=>{_.push(`material-${l.type}-${l.name}-${C}`)});const b=JSON.stringify({type:"material",itemType:l.type,cacheKey:JSON.stringify(_),textureKey:JSON.stringify(i)});s.dataTransfer.setData("transData",b)}function y(){window.isLibraryDrag=!1}return(l,s)=>{const c=R("el-progress");return a(),d("div",ts,[(a(!0),d(O,null,V(r.value,(i,_)=>(a(),d("div",ns,[n("div",os,D(i.title),1),n("div",as,[(a(!0),d(O,null,V(i.list,(b,C)=>(a(),d("div",{key:C,class:A(["list-item-container",b.downloaded?"downloaded":"no-downloaded"])},[n("div",ss,[n("div",{class:"item-image",draggable:b.downloaded,onDragstart:E=>f(b,E),onDragend:y,style:He({"background-image":`url(${b.previewURL})`})},null,44,ls),b.downloaded?W("",!0):(a(),d("div",{key:0,class:"download-mask-container",onClick:E=>g(b)},[K(h(c,{color:"#409eff",class:"download-progress",type:"circle",width:50,percentage:b.progress},null,8,["percentage"]),[[j,b.progress!=0]]),n("span",rs,D(b.fileSize),1),cs],8,is))]),n("div",us,D(b.name),1)],2))),128))])]))),256))])}}},ps=ee(ds,[["__scopeId","data-v-8bc573a2"]]);const ms=e=>(ye("data-v-1c82fa1e"),e=e(),Ee(),e),vs={class:"envmap-library-list"},_s={class:"item-image-container"},gs=["draggable","onDragstart"],fs=["onClick"],hs={class:"file-size"},bs=ms(()=>n("span",{class:"iconfont icon-download item-download-icon"},null,-1)),ys={class:"item-title"},Es={__name:"index",setup(e){const o=new Xe().setResponseType("blob"),r=t(Pt);function u(){r.value.forEach(l=>{localforage.getItem(`envMap-${l.type}-${l.name}`).then(s=>{s&&(l.downloaded=!0)})})}u();function m(l){l.isDownloading||(l.isDownloading=!0,o.load(l.sourceURL,s=>{localforage.setItem(`envMap-${l.type}-${l.name}`,s).then(c=>{l.downloaded=!0,l.isDownloading=!1})},s=>{const c=Math.round(s.loaded/s.total*100);l.progress=c}))}function g(l,s){if(!l.downloaded)return;window.isLibraryDrag=!0;const c=JSON.stringify({type:"envMap",itemType:l.type,cacheKey:`envMap-${l.type}-${l.name}`});s.dataTransfer.setData("transData",c)}function f(){window.isLibraryDrag=!1}function y(){u()}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,y)}),(l,s)=>{const c=R("el-progress");return a(),d("div",vs,[(a(!0),d(O,null,V(r.value,(i,_)=>(a(),d("div",{key:_,class:A(["list-item-container",i.downloaded?"downloaded":"no-downloaded"])},[n("div",_s,[n("div",{class:"item-image",draggable:i.downloaded,onDragstart:b=>g(i,b),onDragend:f,style:He({"background-image":`url(${i.previewURL})`})},null,44,gs),i.downloaded?W("",!0):(a(),d("div",{key:0,class:"download-mask-container",onClick:b=>m(i)},[K(h(c,{color:"#409eff",class:"download-progress",type:"circle",width:50,percentage:i.progress},null,8,["percentage"]),[[j,i.progress!=0]]),n("span",hs,D(i.fileSize),1),bs],8,fs))]),n("div",ys,D(i.name),1)],2))),128))])}}},Tt=ee(Es,[["__scopeId","data-v-1c82fa1e"]]);const Cs=e=>(ye("data-v-d20460f5"),e=e(),Ee(),e),ws={class:"model-library-container"},Ls={class:"list-container"},xs={class:"model-group-title"},ks={class:"model-library-list"},$s={class:"item-image-container"},Ts=["draggable","onDragstart"],Ds=["onClick"],Ss={class:"file-size"},Ms=Cs(()=>n("div",{class:"iconfont icon-download item-download-icon"},null,-1)),Rs={class:"item-title"},Is={__name:"index",setup(e){const o=new Xe().setResponseType("blob"),r=t([{title:"Classic",list:at},{title:"Basic",list:Lt},{title:"Sketchfab",list:xt},{title:"Detail",list:kt}]),u=t([...at,...xt,...Lt,...kt]);function m(){u.value.forEach(s=>{localforage.getItem(`model-${s.type}-${s.name}`).then(c=>{c&&(s.downloaded=!0)})})}m();async function g(s){if(s.isDownloading)return;const c=`model-${s.type}-${s.name}`;if(await localforage.getItem(c)){s.downloaded=!0;return}else{s.isDownloading=!0;const _=await o.loadAsync(s.sourceURL,b=>{const C=Math.round(b.loaded/b.total*100);s.progress=C});await localforage.setItem(`model-${s.type}-${s.name}`,_),s.downloaded=!0,s.isDownloading=!1}}function f(s,c){if(!s.downloaded)return;window.isLibraryDrag=!0;const i=JSON.stringify({type:"model",itemType:s.type,cacheKey:`model-${s.type}-${s.name}`});c.dataTransfer.setData("transData",i)}function y(){window.isLibraryDrag=!1}function l(){m()}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,l)}),(s,c)=>{const i=R("el-progress");return a(),d("div",ws,[(a(!0),d(O,null,V(r.value,(_,b)=>(a(),d("div",Ls,[n("div",xs,D(_.title),1),n("div",ks,[(a(!0),d(O,null,V(_.list,(C,E)=>(a(),d("div",{key:E,class:A(["list-item-container",C.downloaded?"downloaded":"no-downloaded"])},[n("div",$s,[n("div",{class:"item-image",draggable:C.downloaded,onDragstart:I=>f(C,I),onDragend:y,style:He({"background-image":`url(${C.previewURL})`})},null,44,Ts),C.downloaded?W("",!0):(a(),d("div",{key:0,class:"download-mask-container",onClick:I=>g(C)},[K(h(i,{color:"#409eff",class:"download-progress",type:"circle",width:50,percentage:C.progress},null,8,["percentage"]),[[j,C.progress!=0]]),n("span",Ss,D(C.fileSize),1),Ms],8,Ds))]),n("div",Rs,D(C.name),1)],2))),128))])]))),256))])}}},Dt=ee(Is,[["__scopeId","data-v-d20460f5"]]);const Nt=e=>(ye("data-v-9868fdae"),e=e(),Ee(),e),As={class:"library-container"},Os={class:"tab-header"},Vs={class:"tab-title"},Ps={class:"tab-title-text"},Bs={class:"library-tabs-container"},Us={class:"library-tabs-header"},Ns=["onClick"],Fs={class:"library-tabs-content-container"},Gs={class:"tips"},Hs=Nt(()=>n("span",{class:"tips-text"},[re("Download then "),n("b",null,"Drag"),re(" to scene")],-1)),zs=Nt(()=>n("a",{href:"/credit/index.html",target:"_blank"},[n("span",{class:"credit-text"},"(Credit List)")],-1)),Ks={__name:"index",props:["closeDrawer"],setup(e){const o=new kn,r=LGL_BACKEND=="webgpu";let u=!1;const m=t({title:p(()=>v.global.t("library")),icon:"library"}),g=t(r?[{name:"Model",component:me(Dt)},{name:"EnvMap",component:me(Tt)},{name:"Material",component:me(ps)}]:[{name:"Model",component:me(Dt)},{name:"EnvMap",component:me(Tt)}]),f=t("Model");function y(c){f.value!=c&&(f.value=c)}function l(){const c=editor.tracer.canvas;c.addEventListener("dragenter",i=>{i.preventDefault()}),c.addEventListener("dragover",i=>{i.preventDefault()}),c.addEventListener("drop",i=>{if(!window.isLibraryDrag)return;let _=i.dataTransfer.getData("transData");if(!_){ze({message:"Failed to read drag object data. Please try again from library",center:!0,type:"warning",showClose:!0,duration:3e3});return}if(u){ze({message:"Processing the previous model, please wait",center:!0,type:"warning",showClose:!0,duration:3e3});return}u=!0,_=JSON.parse(_);const{type:b,cacheKey:C,itemType:E}=_;if(b=="model"||b=="envMap")localforage.getItem(C).then(I=>{let L=LGL_URLCacheMap.get(C);switch(L||(L=URL.createObjectURL(I),LGL_URLCacheMap.set(C,L)),b){case"model":editor.sceneListener.loadGLTFModel(L).then(()=>{u=!1});break;case"envMap":editor.sceneListener.loadEnvMap(L).then(()=>{u=!1});break}});else if(b=="material"){const I=JSON.parse(C),L=[],$=JSON.parse(_.textureKey);I.forEach((T,q)=>{localforage.getItem(T).then(H=>{let X=LGL_URLCacheMap.get(T);X||(X=URL.createObjectURL(H),LGL_URLCacheMap.set(C,X)),L.push(new Promise(M=>{o.load(X,M)})),q==I.length-1&&s(i,E,L,$)})})}})}function s(c,i,_,b){const C=new $n;switch(C.roughness=1,i){case"floor":C.metalness=0;break;case"metal":C.metalness=1;break}return Promise.all(_).then(E=>{E.forEach((L,$)=>{const T=b[$];C[T]=L}),c.clientX,c.clientY;const I=editor.pickMesh(c);editor.sceneListener.updateMeshMaterial(I,C),u=!1})}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,l)}),(c,i)=>{const _=R("el-scrollbar"),b=R("el-alert");return a(),d("div",As,[n("div",{class:"header-container",onClick:i[0]||(i[0]=(...C)=>e.closeDrawer&&e.closeDrawer(...C))},[n("div",Os,[n("div",Vs,[n("span",{class:A(["iconfont tab-icon","icon-"+m.value.icon])},null,2),n("span",Ps,D(m.value.title),1)])])]),n("div",Bs,[n("div",Us,[(a(!0),d(O,null,V(g.value,C=>(a(),d("div",{key:C.name,class:A(["library-tab-box",{"is-active":C.name==f.value}]),onClick:E=>y(C.name)},[n("span",null,D(C.name),1)],10,Ns))),128))]),n("div",Fs,[h(_,{class:"library-scrollbar",height:"100%"},{default:w(()=>[(a(!0),d(O,null,V(g.value,(C,E)=>K((a(),d("div",{key:C.name,class:"library-tab-content"},[(a(),G(te(C.component)))],512)),[[j,C.name==f.value]])),128))]),_:1})])]),n("div",Gs,[h(b,{type:"info","show-icon":""},{title:w(()=>[Hs,zs]),_:1})])])}}},js=ee(Ks,[["__scopeId","data-v-9868fdae"]]);const Ws={class:"tabs-container"},qs=["onClick"],Js={class:"panel-container"},Xs={__name:"index",setup(e){const o=t(!0),r=t("Property"),u=t([{name:"Property",icon:"title-setting",component:me($a)},{name:"Render",icon:"title-render",component:me(Qa)},{name:"Library",icon:"title-render",component:me(js)}]);function m(){}function g(){o.value=!1}function f(l){r.value==l?o.value=!o.value:(o.value||(o.value=!0),r.value=l)}function y(l){if(l.name=="toggleMenu"){const s=l.targetStatus;o.value=s}}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,m),Editor.on(Editor.events.SHORTCUT_COMMAND_UP,y)}),(l,s)=>(a(),d("div",{class:A(["right-drawer",{open:o.value}])},[n("div",Ws,[(a(!0),d(O,null,V(u.value,c=>(a(),d("div",{key:c.name,class:A(["tab-box",{"is-active":c.name==r.value}]),onClick:i=>f(c.name)},[n("span",null,D(c.name),1)],10,qs))),128))]),n("div",Js,[(a(!0),d(O,null,V(u.value,(c,i)=>K((a(),d("div",{key:c.name,class:"tab-content-container"},[(a(),G(te(c.component),{closeDrawer:g}))],512)),[[j,c.name==r.value]])),128))])],2))}},Ys=ee(Xs,[["__scopeId","data-v-26b7e5bd"]]);const Zs={class:"tree-container"},Qs={class:"tree-header"},el={class:"tab-title"},tl={class:"tree-operation"},nl=["onClick"],ol={class:"tree-filter"},al={class:"tree-body"},sl={class:"custom-tree-node"},ll={class:"node-text"},il={class:"node-operation"},rl=["onClick"],et="custom-tree-node-enter",cl={__name:"index",props:["closeDrawer"],setup(e){const o=LGL_BACKEND=="webgl",r=t([]),u=t(""),m=t(),g=t(!0),f=t({title:p(()=>v.global.t("outliner")),icon:"outliner"}),y=[{icon:"add",event:"addGroup",toolTipText:"add group"},{icon:"fold",event:"unexpandTree",toolTipText:"fold all"},{icon:"unfold",event:"expandTree",toolTipText:"unfold all"}],l=t([{icon:"copy",event:"copy"},{icon:"visible",back_icon:"invisible",event:"visible"},{icon:"delete",event:"delete"}]);ot(u,S=>{m.value&&m.value.filter(S)});const s=(S,k)=>S?k.name?k.name.toLowerCase().indexOf(S.toLowerCase())!==-1:!1:!0,c=t([]);function i(S){c.value.includes(S.uuid)||c.value.push(S.uuid)}function _(S){const k=c.value.indexOf(S.uuid);k>-1&&c.value.splice(k,1)}function b(S){switch(S){case"addGroup":Y();break;case"expandTree":I(!0);break;case"unexpandTree":I(!1);break}}function C(S,k){if(S.isObject3D){const N=ft(S);editor.select(N)}}function E(S,k){const N=ft(S);switch(k.event){case"copy":editor.sceneListener.copyTHREEObject(N);break;case"visible":editor.sceneListener.toggleTHREEObjectVisible(N,!N.visible);break;case"delete":editor.sceneListener.deleteTHREEObject(N);break}}function I(S){g.value=!1,S?r.value.forEach(k=>{k.traverse(N=>{N.children&&i(N)})}):c.value=[],Pe(()=>{g.value=!0})}function L(){return editor.scene.children.filter(S=>S.name!="LGL_TRANSFORM_PIVOT")}function $(){r.value=L(),r.value[0].traverse(S=>{S.children&&c.value.push(S.uuid)})}function T(){var S;if(r.value=[...L()],o)c.value=[],r.value[0].traverse(k=>{k.children&&c.value.push(k.uuid)});else{const k=(S=editor.transformControlsListener.curPickedTHREEObject)==null?void 0:S.uuid;setTimeout(()=>{m.value.setCurrentKey(k)},0)}}function q(S){T()}function H(S){T()}function X(S){if(!S){m.value.setCurrentKey(null);return}const k=S.uuid;m.value.setCurrentKey(k)}let M=null;function le(S,k,N){const ne=N.target;ne&&(M&&M.classList.remove(et),M=ne,M.classList.add(et))}function ae(){M&&M.classList.remove(et)}let ie=null;function P(S,k){ie=S.data.parent.children.indexOf(S.data)}function se(S,k,N,ne){const ue=S.data,he=k.data,oe=N;editor.sceneListener.moveObjectToNewParent(ue,ie,he,oe),i(he)}function Y(){bo.prompt("Enter the name of the new group","",{confirmButtonText:"OK",cancelButtonText:"Cancel",showClose:!1,closeOnClickModal:!1,inputValue:"New Group"}).then(({value:S})=>{editor.sceneListener.addEmptyGroup(S)}).catch(()=>{})}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,$),Editor.on(Editor.events.OBJECT_SELECTED,X),Editor.on(Editor.events.OBJECT_ADD,q),Editor.on(Editor.events.OBJECT_COPY,q),Editor.on(Editor.events.OBJECT_VISIBLE,T),Editor.on(Editor.events.OBJECT_REMOVE,H)}),(S,k)=>{const N=R("el-tooltip"),ne=R("el-input"),ue=R("el-tree"),he=R("el-scrollbar");return a(),d("div",Zs,[n("div",Qs,[n("div",el,[n("span",{class:A(["iconfont tab-icon","icon-"+f.value.icon]),onClick:k[0]||(k[0]=(...oe)=>e.closeDrawer&&e.closeDrawer(...oe))},null,2),n("span",{class:"tab-title-text",onClick:k[1]||(k[1]=(...oe)=>e.closeDrawer&&e.closeDrawer(...oe))},D(f.value.title),1),n("div",tl,[(a(),d(O,null,V(y,(oe,_e)=>h(N,{key:_e,effect:"light",content:oe.toolTipText,placement:"top",offset:10},{default:w(()=>[n("span",{class:A(["iconfont tree-operation-icon","icon-"+oe.icon]),onClick:de=>b(oe.event)},null,10,nl)]),_:2},1032,["content"])),64))])])]),n("div",ol,[h(ne,{modelValue:u.value,"onUpdate:modelValue":k[2]||(k[2]=oe=>u.value=oe),placeholder:"Filter keyword"},null,8,["modelValue"])]),n("div",al,[h(he,{height:"100%"},{default:w(()=>[g.value?(a(),G(ue,{key:0,ref_key:"treeRef",ref:m,data:r.value,"node-key":"uuid","auto-expand-parent":!1,"expand-on-click-node":!1,"highlight-current":"","filter-node-method":s,props:{label:"name"},indent:6,onNodeClick:C,"empty-text":"No Data",draggable:"",onNodeDrop:se,onNodeDragStart:P,"default-expand-all":!1,onNodeExpand:i,onNodeCollapse:_,onNodeDragEnter:le,onNodeDragEnd:ae,"default-expanded-keys":c.value},{default:w(({node:oe,data:_e})=>[n("span",sl,[n("span",ll,D(oe.label),1),n("div",il,[(a(!0),d(O,null,V(l.value,(de,Re)=>(a(),d(O,{key:Re},[o&&(de.event=="copy"||de.event=="delete"||!_e.isMesh)?W("",!0):(a(),d("span",{key:0,class:A(["iconfont node-operation-icon","icon-"+(de.event!=="visible"||_e.visible?de.icon:de.back_icon)]),onClick:Le(Ie=>E(_e,de),["stop"])},null,10,rl))],64))),128))])])]),_:1},8,["data","default-expanded-keys"])):W("",!0)]),_:1})])])}}},ul=ee(cl,[["__scopeId","data-v-f6872613"]]);const dl={class:"history-container"},pl={class:"tab-header"},ml={class:"tab-title"},vl={class:"tab-title-text"},_l={class:"timeline-container"},gl={class:"history-name"},fl={class:"history-target-name"},hl={__name:"index",props:["closeDrawer"],setup(e){const o=t({title:p(()=>v.global.t("history")),icon:"history"}),r=t([]),u=t(0);function m(){r.value=editor.commands.slice().reverse(),u.value=r.value.length;for(let g=0;g<r.value.length;g++)if(r.value[g].state===!0){u.value=g;break}}return Q(()=>{Editor.on(Editor.events.COMMAND_REDO,m),Editor.on(Editor.events.COMMAND_UNDO,m)}),(g,f)=>{const y=R("el-timeline-item"),l=R("el-timeline"),s=R("el-scrollbar"),c=R("el-empty");return a(),d("div",dl,[n("div",{class:"header-container",onClick:f[0]||(f[0]=(...i)=>e.closeDrawer&&e.closeDrawer(...i))},[n("div",pl,[n("div",ml,[n("span",{class:A(["iconfont tab-icon","icon-"+o.value.icon])},null,2),n("span",vl,D(o.value.title),1)])])]),K(n("div",_l,[h(s,{class:"mesh-scrollbar",height:"100%"},{default:w(()=>[h(l,null,{default:w(()=>[(a(!0),d(O,null,V(r.value,(i,_)=>(a(),G(y,{key:_,"hide-timestamp":"",type:"primary",hollow:"",class:A(u.value==_?"current-history-pos":"")},{default:w(()=>{var b;return[n("div",gl,D(i.name),1),n("div",fl,D((b=i==null?void 0:i.targetObject)!=null&&b.name?`target:
							${i.targetObject.name}`:""),1)]}),_:2},1032,["class"]))),128))]),_:1})]),_:1})],512),[[j,r.value.length]]),K(h(c,{description:"No history command"},null,512),[[j,!r.value.length]])])}}},bl=ee(hl,[["__scopeId","data-v-ea9c8f06"]]);const yl={class:"tabs-container"},El=["onClick"],Cl={class:"panel-container"},wl={__name:"index",setup(e){const o=t(!0),r=t("Outliner"),u=t([{name:"History",icon:"title-layer",component:me(bl)},{name:"Outliner",icon:"title-layer",component:me(ul)}]);function m(){}function g(){o.value=!1}function f(l){r.value==l?o.value=!o.value:(o.value||(o.value=!0),r.value=l)}function y(l){if(l.name=="toggleMenu"){const s=l.targetStatus;o.value=s}}return Q(()=>{Editor.on(Editor.events.EDITOR_LOADED,m),Editor.on(Editor.events.SHORTCUT_COMMAND_UP,y)}),(l,s)=>(a(),d("div",{class:A(["left-drawer",{open:o.value}])},[n("div",yl,[(a(!0),d(O,null,V(u.value,c=>(a(),d("div",{key:c.name,class:A(["tab-box",{"is-active":c.name==r.value}]),onClick:i=>f(c.name)},[n("span",null,D(c.name),1)],10,El))),128))]),n("div",Cl,[(a(!0),d(O,null,V(u.value,(c,i)=>K((a(),d("div",{key:c.name,class:"tab-content-container"},[(a(),G(te(c.component),{closeDrawer:g}))],512)),[[j,c.name==r.value]])),128))])],2))}},Ll=ee(wl,[["__scopeId","data-v-f6850c83"]]);const Me=e=>(ye("data-v-ae3280c2"),e=e(),Ee(),e),xl={class:"bottom-right-menu-container"},kl={class:"sponsor-content-container"},$l=Me(()=>n("div",{class:"sponsor-title-text"},[n("p",null,"LGLTracer is my personal project."),n("p",null,"I have always been pursuing better rendering effects on the Web."),n("p",{class:"sponsor-split"}),n("p",null,"If my project/tool is helpful to you"),n("p",null,"please sponsor me to encourage me to continue development , thanks!")],-1)),Tl={class:"sponsor-button-container"},Dl={class:"wechat-pay"},Sl=Me(()=>n("span",{class:"iconfont icon-wechat sponsor-icon"},null,-1)),Ml=Me(()=>n("span",{class:"split-line"},"/",-1)),Rl={class:"alipay-pay"},Il=Me(()=>n("span",{class:"iconfont icon-alipay sponsor-icon"},null,-1)),Al={href:"https://www.patreon.com/LGLTracer",target:"_blank"},Ol={class:"sponsor-button-container"},Vl=Me(()=>n("span",{class:"iconfont icon-patreon sponsor-icon"},null,-1)),Pl=Me(()=>n("span",null,"Patreon",-1)),Bl={class:"qrcode-container"},Ul={class:"qrcode-tabs-header"},Nl=["onClick"],Fl={class:"qrcode-tabs-content-container"},Gl=["src"],Hl=Me(()=>n("div",{class:"sponsor-tips"},"赞助可留言微信号，进交流群参与交流",-1)),zl={class:"menu-content"},Kl={class:"tile-fps-count"},jl={class:"item-text cur-tile-text"},Wl={class:"item-text cur-fps-text"},ql={__name:"index",setup(e){const o=t(!0),r=t(0),u=t(0);function m(){o.value=!o.value}const g=t(!1),f=t(0),y=t("wechat"),l=t([{name:"wechat",qrCodeURL:"/images/wechat.jpg"},{name:"alipay",qrCodeURL:"/images/alipay.jpg"}]);function s(){f.value=1}function c(C){y.value!=C&&(y.value=C)}function i(){f.value=0}function _(C){const{fps:E}=C;r.value=editor.tracer.tileNumber,u.value=E}function b(){r.value=editor.tracer.tileNumber}return Q(()=>{Editor.on(Editor.events.COMMAND_TILE_FPS,_),Editor.on(Editor.events.EDITOR_LOADED,b)}),(C,E)=>{const I=R("el-button"),L=R("el-dialog");return a(),d("div",xl,[n("div",{class:"sponsor-text",onClick:E[0]||(E[0]=$=>g.value=!0)},"Sponsor"),h(L,{modelValue:g.value,"onUpdate:modelValue":E[1]||(E[1]=$=>g.value=$),width:320,"show-close":"","close-on-click-modal":!1,onClosed:i},{footer:w(()=>[]),default:w(()=>[K(n("div",kl,[$l,n("div",Tl,[h(I,{color:"#2680c7",onClick:s,class:"sponsor-button"},{default:w(()=>[n("span",Dl,[Sl,n("span",null,D(C.$t("wechat")),1)]),Ml,n("span",Rl,[Il,n("span",null,D(C.$t("alipay")),1)])]),_:1})]),n("a",Al,[n("div",Ol,[h(I,{color:"#333333",class:"sponsor-button"},{default:w(()=>[Vl,Pl]),_:1})])])],512),[[j,f.value==0]]),K(n("div",Bl,[n("div",Ul,[(a(!0),d(O,null,V(l.value,$=>(a(),d("div",{key:$.name,class:A(["qrcode-tab-box",{"is-active":$.name==y.value}]),onClick:T=>c($.name)},[n("span",null,D(C.$t($.name)),1)],10,Nl))),128))]),n("div",Fl,[(a(!0),d(O,null,V(l.value,($,T)=>K((a(),d("div",{key:$.name,class:"qrcode-tab-content"},[n("img",{class:"qrcode-image",src:$.qrCodeURL,alt:"",draggable:!1},null,8,Gl)],512)),[[j,$.name==y.value]])),128)),Hl])],512),[[j,f.value==1]]),K(n("div",{onClick:i,class:"back-button iconfont icon-return"},null,512),[[j,f.value==1]])]),_:1},8,["modelValue"]),n("div",{class:A(["tile-fps-container",{"is-open":o.value}])},[n("div",{class:"menu-toggle",onClick:E[2]||(E[2]=$=>m())}),n("ul",zl,[n("li",Kl,[n("span",jl,D(r.value)+" Tiles",1),n("span",Wl,D(u.value)+" FPS",1)])])],2)])}}},Jl=ee(ql,[["__scopeId","data-v-ae3280c2"]]);const Xl={class:"info-container"},Yl={class:"title"},Zl={class:"text"},Ql={__name:"index",setup(e){const o=LGL_BACKEND=="webgpu"?"WebGPU":"WebGL",r=t(""),u=t(""),m=t(""),g=t([{title:"Graphics API",value:o},{title:"Browser",value:r},{title:"OS",value:u},{title:"GPU",value:m},{title:"LGLTracer Version",value:Tn},{title:"Editor Version",value:Dn}]);return je(()=>{const{browser:f,os:y,graphicsCard:l}=Sn();r.value=f,u.value=y,l&&(m.value=l.renderer)}),(f,y)=>(a(),d("div",Xl,[(a(!0),d(O,null,V(g.value,l=>(a(),d("div",{class:"info-row",key:l.title},[n("div",Yl,D(l.title)+": ",1),n("div",Zl,D(l.value),1)]))),128))]))}},ei=ee(Ql,[["__scopeId","data-v-670f28cb"]]);const ti={class:"info-container"},ni={__name:"index",setup(e){const o=LGL_BACKEND=="webgpu",r=[{operation:"Undo",keyCode:"Ctrl/Cmd + Z"},{operation:"Redo",keyCode:"Ctrl/Cmd + Shift + Z"},{operation:"Translate Mode(Controls)",keyCode:"G"},{operation:"Rotate Mode(Controls)",keyCode:"R"},{operation:"Scale Mode(Controls)",keyCode:"S"},{operation:"Hide Select",keyCode:"H"},{operation:"Show Select",keyCode:"Alt + H"},{operation:"Switch Camera Projection",keyCode:"P , 0"},{operation:"View(Front/Right/Top)",keyCode:"1 / 2 / 3"},{operation:"View(Back/Left/Bottom)",keyCode:"4 / 5 / 6"},{operation:"Play/Pause Rendering",keyCode:"Space"},{operation:"Refocus current scene",keyCode:"F"},{operation:"Toggle left/right panel",keyCode:"T"}],u=[{operation:"Delete Select",keyCode:"X , Delete"},{operation:"Clone Select",keyCode:"Ctrl/Cmd + V , Shift + D"}];return o&&r.push(...u),(m,g)=>{const f=R("el-table-column"),y=R("el-table");return a(),d("div",ti,[h(y,{data:r,stripe:"",style:{width:"100%"}},{default:w(()=>[h(f,{prop:"operation",label:"Operation"}),h(f,{prop:"keyCode",label:"KeyCode"})]),_:1})])}}},oi=ee(ni,[["__scopeId","data-v-910e657c"]]);const ai=e=>(ye("data-v-2f0b9034"),e=e(),Ee(),e),si={class:"bottom-left-menu-container"},li={class:"button-container"},ii={class:"helper-container"},ri={class:"helper-tabs-header"},ci=["onClick"],ui={class:"helper-tabs-content-container"},di=ai(()=>n("div",{class:"contact-footer"},[re("Any questions? Contact me :D "),n("a",{href:"mailto:lg2lugang@gmail.com",target:"_blank"},[n("i",{class:"contact-icon iconfont icon-email"})]),n("a",{href:"https://twitter.com/WebAMV",target:"_blank"},[n("span",{class:"contact-icon iconfont icon-twiter"})])],-1)),pi={__name:"index",setup(e){const o=t(!1),r=t("info"),u=t([{name:"info",component:me(ei)},{name:"shortcut",component:me(oi)}]);function m(y){r.value!=y&&(r.value=y)}function g(){editor.renderListener.getScreenshot()}function f(){editor.renderListener.autoFitCameraByModel()}return(y,l)=>{const s=R("el-tooltip"),c=R("el-dialog");return a(),d("div",si,[n("div",li,[n("div",{class:"button helper-button iconfont icon-help",onClick:l[0]||(l[0]=i=>o.value=!0)}),h(s,{effect:"light",content:"screenshot",placement:"top",offset:10},{default:w(()=>[n("div",{onClick:g,class:"button camera-button iconfont icon-camera"})]),_:1}),h(c,{modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=i=>o.value=i),width:380,"show-close":"","close-on-click-modal":!1},{footer:w(()=>[di]),default:w(()=>[n("div",ii,[n("div",ri,[(a(!0),d(O,null,V(u.value,i=>(a(),d("div",{key:i.name,class:A(["helper-tab-box",{"is-active":i.name==r.value}]),onClick:_=>m(i.name)},[n("span",null,D(y.$t(i.name)),1)],10,ci))),128))]),n("div",ui,[(a(!0),d(O,null,V(u.value,(i,_)=>K((a(),d("div",{key:i.name,class:"helper-tab-content"},[(a(),G(te(i.component)))],512)),[[j,i.name==r.value]])),128))])])]),_:1},8,["modelValue"]),h(s,{effect:"light",content:"refocus(F)",placement:"top",offset:10},{default:w(()=>[n("div",{onClick:f,class:"button camera-button iconfont icon-focus"})]),_:1})])])}}},mi=ee(pi,[["__scopeId","data-v-2f0b9034"]]),vi={class:"scene-container"},_i={__name:"App",setup(e){return je(()=>{}),(o,r)=>(a(),d("div",vi,[h(Eo),h(Wo),h(ta),h(Ll),h(Ys),h(mi),h(Jl),h($o)]))}},B=cn(_i);B.use(v);B.component("ElTree",Mn);B.component("ElInput",Vt);B.component("ElTabs",Rn);B.component("ElTabPane",In);B.component("ElScrollbar",un);B.component("ElTooltip",dn);B.component("ElForm",An);B.component("ElFormItem",On);B.component("ElCollapse",Vn);B.component("ElCollapseItem",Pn);B.component("ElSlider",Bn);B.component("ElSelect",Un);B.component("ElOption",Nn);B.component("ElSwitch",Fn);B.component("ElMenu",Gn);B.component("ElMenuItem",Hn);B.component("ElSubMenu",zn);B.component("ElEmpty",Kn);B.component("ElDialog",jn);B.component("ElButton",Ot);B.component("ElTimeline",Wn);B.component("ElTimelineItem",qn);B.component("ElProgress",Jn);B.component("ElTable",pn);B.component("ElTableColumn",mn);B.component("ElAlert",Xn);B.component("InputNumber",Yn);B.component("InputGroup",Zn);B.component("ColorPicker",Qn);B.component("Slider",eo);B.component("Select",to);!navigator.gpu||!navigator.gpu.getPreferredCanvasFormat?(window.LGL_BACKEND="webgl",document.body.classList.add("webgl")):window.LGL_BACKEND="webgpu";window.LGL_BACKEND=="webgl"&&no({title:"Warning",message:`Your device/browser does not support WebGPU!
			It has fallen back to the WebGL version,
			many functions/features will be limited!`,type:"warning",duration:0});window.Editor=Bt;const De=new Bt(window.LGL_BACKEND);window.editor=De;window.localforage=st;const it=new Map;window.LGL_URLCacheMap=it;const gi=new Xe().setResponseType("blob"),fi=console.error,hi=console.warn;console.error=function(...o){const r=o[0];ze({message:r,center:!0,type:"error",showClose:!0,duration:5e3}),fi.apply(console,o)};console.warn=function(...o){const r=o[0];ze({message:r,center:!0,type:"warning",showClose:!0,duration:3500}),hi.apply(console,o)};function Ft(){const e=window.innerWidth,o=window.innerHeight;De.setSize(e,o)}window.addEventListener("resize",oo(Ft,100));const tt=at[0],nt=Pt[0];async function St(e,o){const r=await st.getItem(e);if(r){let u=it.get(e);return u||(u=URL.createObjectURL(r)),u}else{const u=await gi.loadAsync(o);await st.setItem(e,u);const m=URL.createObjectURL(u);return it.set(e,m),m}}const bi=document.querySelector(".entry-loading .progress-text"),yi=document.querySelector(".entry-loading .progress-line");function Ei(e){const o=Math.round(e*100);bi.textContent=`${o}%`,yi.style.width=`${o}%`}const Ci=document.querySelector(".building-text-container .building-text"),Gt=document.querySelector(".building-text-container");function wi(){Gt.classList.add("building")}function Li(e){const o=Math.round(e*100);Ci.textContent=`Building(${o}%)`}function xi(){Gt.classList.remove("building")}async function ki(){const e=await St(`model-${tt.type}-${tt.name}`,tt.sourceURL),o=await St(`envMap-${nt.type}-${nt.name}`,nt.sourceURL);await De.loadData(e,o,Ei),document.body.classList.remove("loading"),De.tracer.onBuildingBeginCallback=wi,De.tracer.onBuildingProgressCallback=Li,De.tracer.onBuildingEndCallback=xi,Ft(),De.play(),setTimeout(()=>{document.documentElement.classList.add("alpha")},1e3)}B.mount("#app");ki();
