import{m as E,l as P,O as v,R as F,a as x,u as D,e as G,g as I}from"./utils.684b27f5.js";import{A as j,S as R,C as m,a as f,M as u,P as z,F as A}from"./vendor.b603f603.js";import{C as B,W as h}from"./lglTracer.es.v1.0.8.0820c289.js";import{c as W}from"./lightConfig.eed1060b.js";const k=W,O=G.Sunset,q=I.CornellBox,e=new B;e.bounces=4;e.renderWhenOffFocus=!0;e.toneMapping=j;e.useTileRender=!1;e.envMapIntensity=2;e.enableDenoise=!0;e.enableTemporalDenoise=!0;e.enableSpatialDenoise=!0;document.body.appendChild(e.domElement);const i=document.querySelector("#container");function H(n){n?i.classList.contains("isLoading")||i.classList.add("isLoading"):i.classList.contains("isLoading")&&i.classList.remove("isLoading")}const d=!0,{initStats:U,initGUI:$,initCameraDebugInfo:J}=E();e.loadingCallback={onProgress:n=>console.log(n),onComplete:n=>{console.log(n),H(!1),K(),$(d,e)}};const s=U(d),p=J(d);let w=null,r=null;function K(){e.setDenoiseColorFactor(1),e.setDenoisePositionFactor(.3)}const o=new R;P(k,o);const C=new h({color:new m(1,1,1),roughness:.15,metalness:0,specularTint:0,sheen:0,sheenTint:0,clearcoat:0,subsurface:0,transmission:1,ior:1.45,anisotropic:0,extinction:new m(1,1,0)}),M=C.clone();M.extinction=new m(0,0,1);const N=new f(.2,128,64),g=new u(N,C);g.position.y=1.5;g.position.x=.3;o.add(g);const Q=new f(.25,128,64),l=new u(Q,M);l.position.y=.5;l.position.x=-.5;l.position.z=.5;o.add(l);const a=new z(45,window.innerWidth/window.innerHeight,.001,1e3),c=new v(a,e.domElement);c.screenSpacePanning=!0;function V(n){n.traverse(t=>{t.isMesh&&t.material&&t.material.isMeshStandardMaterial&&(t.material=new h().fromStandardMaterial(t.material))})}async function X(){{const L=new F().setDataType(A),T=await new Promise(y=>{L.load(O,y)});o.environment=T}const t=(await x(q)).scene;V(t),o.add(t),D(a,c,o),e.buildScene(o,a).then(()=>{b()})}function S(){if(e.domElement.parentElement){const n=e.domElement.parentElement.clientWidth,t=e.domElement.parentElement.clientHeight;e.setSize(n,t),a.aspect=n/t,a.updateProjectionMatrix()}}window.addEventListener("resize",S);S();function b(n){c.update(),a.focus=c.target.distanceTo(a.position),s&&s.begin(),e.render(o,a),s&&s.end(),p&&p.dataBegin&&(r=e.getTotalSamples(),w!=r&&(p.innerText=`Samples: ${r}`,w=r)),requestAnimationFrame(b)}X();
