import{m as w,l as M,O as b,b as E,C as L}from"./utils.684b27f5.js";import{C as h,A as P,S as D,P as y}from"./vendor.b603f603.js";import{C as v}from"./lglTracer.es.v1.0.8.0820c289.js";import{s as T}from"./lightConfig.eed1060b.js";import{D as c}from"./DisneyMaterial.dae81f5f.js";async function I(){const n=new c({color:new h(1,1,1),metalness:.001,roughness:.001,clearcoat:1}),t=new c({color:new h(1,1,1),roughness:1}),a=new c({color:new h(0,0,0),metalness:1,roughness:.001});return[{material:t,meshName:["Cube_Cube001"]},{material:a,meshName:["Sphere004","Sphere005","Sphere006_Sphere005","Sphere007_Sphere004","Sphere016_Sphere010","Sphere017_Sphere011","Sphere018_Sphere012","Sphere019_Sphere013","Sphere030_Sphere013","Sphere031_Sphere012"]},{material:n,meshName:["Plane001","Plane002_Plane001","Sphere","Sphere001","Sphere002","Sphere003","Sphere008_Sphere003","Sphere009_Sphere002","Sphere010_Sphere001","Sphere011_Sphere","Sphere012_Sphere006","Sphere013_Sphere007","Sphere014_Sphere008","Sphere015_Sphere009","Sphere020_Sphere014","Sphere021_Sphere015","Sphere022_Sphere016","Sphere023_Sphere017","Sphere024_Sphere018","Sphere025_Sphere018","Sphere026_Sphere017","Sphere027_Sphere016","Sphere028_Sphere015","Sphere029_Sphere014"]}]}const j=T,F=L,e=new v;e.bounces=2;e.renderWhenOffFocus=!0;e.toneMapping=P;e.envMapIntensity=2;e.enableDenoise=!0;e.enableTemporalDenoise=!1;e.enableSpatialDenoise=!0;e.useTileRender=!0;e.movingDownsampling=!0;e.tileSlicesNum=4;document.body.appendChild(e.domElement);const s=document.querySelector("#container");function N(n){n?s.classList.contains("isLoading")||s.classList.add("isLoading"):s.classList.contains("isLoading")&&s.classList.remove("isLoading")}const m=!0,{initStats:A,initGUI:W,initCameraDebugInfo:k}=w();e.loadingCallback={onProgress:n=>console.log(n),onComplete:n=>{console.log(n),N(!1),x(),W(m,e)}};const d=A(m),S=k(m);let f=null,o=null;function x(){e.setDenoiseColorFactor(1),e.setDenoisePositionFactor(.4)}const l=new D;M(j,l);const r=new y(60,window.innerWidth/window.innerHeight,.001,1e3),i=new b(r,e.domElement);i.screenSpacePanning=!0;function O(){r.position.set(-1,-.5,6.9),r.aperture=.065,i.target.y=-.4,i.update()}async function z(n){const t=await I();n.traverse(a=>{a.isMesh&&t.forEach(p=>{const C=p.meshName,u=p.material;if(~C.indexOf(a.name)){u?a.material=u:a.visible=!1;return}})})}async function B(){const t=(await E(F)).scene;await z(t),l.add(t),O(),e.buildScene(l,r).then(()=>{_()})}function g(){if(e.domElement.parentElement){const n=e.domElement.parentElement.clientWidth,t=e.domElement.parentElement.clientHeight;e.setSize(n,t),r.aspect=n/t,r.updateProjectionMatrix()}}window.addEventListener("resize",g);g();function _(n){i.update(),r.focus=i.target.distanceTo(r.position),d.begin(),e.render(l,r),d.end(),S&&S.dataBegin&&(o=e.getTotalSamples(),f!=o&&(S.innerText=`Samples: ${o}`,f=o)),requestAnimationFrame(_)}B();
